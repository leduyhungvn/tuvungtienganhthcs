<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ÔN TẬP GS VOCA TIẾNG ANH CƠ SỞ</title>
    <style>
        :root {
            --primary-color: #4CAF50;
            --primary-dark: #45a049;
            --secondary-color: #2c3e50;
            --accent-color: #FFD700;
            --warning-color: #FF6347;
            --error-color: #f44336;
            --light-bg: #f5f5f5;
            --white: #ffffff;
            --border-radius: 10px;
            --box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            
            /* New Color Variables for Range Buttons */
            --range-btn-1: #0d47a1; /* Deep Blue */
            --range-btn-2: #1b5e20; /* Deep Green */
            --range-btn-3: #4a148c; /* Deep Purple */
            --range-btn-4: #e65100; /* Deep Orange */
            --range-btn-5: #006064; /* Deep Cyan */
            --range-btn-6: #b71c1c; /* Deep Red */
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--light-bg);
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .header {
            width: 100%;
            text-align: center;
            margin-bottom: 20px;
            color: var(--secondary-color);
        }
        
        .header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
        }
        
        .header h2 {
            margin: 5px 0 0;
            font-size: 20px;
            font-weight: 600;
            color: var(--secondary-color);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
        }
        
        .login-screen, .quiz-screen, .result-screen, .main-menu, .review-menu, .vocabulary-list, .grade-selection, .auto-review-screen {
            width: 100%;
            background-color: var(--white);
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 20px;
            box-sizing: border-box;
        }
        
        .form-group {
            margin-bottom: 10px; /* Đã chỉnh từ 20px xuống 10px để thu hẹp khoảng cách */
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--secondary-color);
        }
        
        input, button, select {
            width: 100%;
            padding: 12px 15px;
            margin: 8px 0;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
        }
        
        button {
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            cursor: pointer;
            font-weight: 600;
            letter-spacing: 0.5px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        
        button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
        }
        
        .btn-secondary:hover {
            background-color: #1a252f;
        }
        
        .btn-comprehensive {
            background-color: #9c27b0;
        }
        
        .btn-comprehensive:hover {
            background-color: #7b1fa2;
        }
        
        /* New Styles for Range Buttons Grid */
        .range-buttons-container {
            display: none; /* Hidden by default, shown via JS */
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 20px 0;
        }
        
        .range-btn {
            padding: 12px 10px;
            font-size: 14px;
            font-weight: bold;
            color: white;
            border-radius: var(--border-radius);
            border: none;
            cursor: pointer;
            text-transform: uppercase;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            margin: 0; /* Reset default button margin */
        }
        
        .range-btn:hover {
            filter: brightness(1.1);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        .range-btn:active {
            transform: translateY(0);
        }
        
        .range-1 { background-color: var(--range-btn-1); }
        .range-2 { background-color: var(--range-btn-2); }
        .range-3 { background-color: var(--range-btn-3); }
        .range-4 { background-color: var(--range-btn-4); }
        .range-5 { background-color: var(--range-btn-5); }
        .range-6 { background-color: var(--range-btn-6); }

        .timer-container {
            width: 100%;
            background-color: #f1f1f1;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .timer-bar {
            height: 20px;
            background-color: var(--accent-color);
            border-radius: var(--border-radius);
            width: 100%;
            transition: width 0.1s linear;
        }
        
        .question {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
            color: var(--secondary-color);
        }
        
        .word-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .word {
            font-size: 28px;
            font-weight: bold;
            color: var(--secondary-color);
            text-align: center;
            padding: 10px 20px;
            background-color: rgba(76, 175, 80, 0.1);
            border-radius: var(--border-radius);
            word-break: break-word;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        .speaker-btn {
            background: none;
            border: none;
            cursor: pointer;
            width: 50px;
            height: 50px;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(76, 175, 80, 0.1);
            flex-shrink: 0;
        }
        
        .speaker-btn:hover {
            background-color: rgba(76, 175, 80, 0.2);
            transform: scale(1.05);
        }
        
        .speaker-btn:active {
            transform: scale(0.95);
        }
        
        .speaker-icon {
            width: 32px;
            height: 32px;
            fill: var(--primary-color);
            transition: all 0.2s ease;
        }
        
        .speaker-btn:hover .speaker-icon {
            fill: var(--primary-dark);
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .option {
            padding: 15px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            cursor: pointer;
            text-align: left;
            transition: all 0.2s ease;
            word-wrap: break-word;
        }
        
        .option:hover {
            background-color: #e9e9e9;
            transform: translateX(5px);
        }
        
        .stats-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            /* Đã bỏ flex-wrap: wrap để luôn giữ 1 hàng */
            flex-wrap: nowrap; 
            align-items: center;
        }
        
        .question-counter, .streak {
            font-weight: bold;
            font-size: 16px;
            color: var(--secondary-color);
            margin: 0; /* Reset margin để căn chỉnh đẹp hơn */
            white-space: nowrap; /* Ngăn chữ bị ngắt dòng */
        }
        
        .correct {
            background-color: var(--primary-color);
            color: var(--white);
            border-color: var(--primary-dark);
        }
        
        .incorrect {
            background-color: var(--error-color);
            color: var(--white);
            border-color: #d32f2f;
        }
        
        .result-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-item h3 {
            margin-top: 25px;
            margin-bottom: 15px;
            color: var(--secondary-color);
        }
        
        .hidden {
            display: none !important;
        }
        
        .wrong-questions-list {
            margin-top: 10px;
            padding-left: 20px;
        }
        
        .wrong-questions-list li {
            margin-bottom: 5px;
        }
        
        .answer-history {
            margin-top: 20px;
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        
        .answer-history th, .answer-history td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
            word-wrap: break-word;
        }
        
        .answer-history th {
            background-color: #f2f2f2;
            font-weight: 600;
        }
        
        .answer-history tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .answer-history tr:hover {
            background-color: #f1f1f1;
        }
        
        .result-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .result-buttons button {
            flex: 1;
            min-width: 120px;
        }
        
        .progress-container {
            width: 100%;
            background-color: #f1f1f1;
            border-radius: var(--border-radius);
            margin: 10px 0;
        }
        
        .progress-bar {
            height: 10px;
            background-color: var(--primary-color);
            border-radius: var(--border-radius);
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            font-size: 14px;
            color: var(--secondary-color);
            margin-bottom: 5px;
        }
        
        .login-form {
            background-color: var(--white);
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            max-width: 400px;
            margin: 0 auto;
            box-sizing: border-box;
        }
        
        .login-title {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .word-with-speaker {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .table-speaker-btn {
            background: none;
            border: none;
            cursor: pointer;
            width: 24px;
            height: 24px;
            padding: 4px;
            border-radius: 50%;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(76, 175, 80, 0.1);
            flex-shrink: 0;
        }
        
        .table-speaker-btn:hover {
            background-color: rgba(76, 175, 80, 0.2);
        }
        
        .table-speaker-icon {
            width: 16px;
            height: 16px;
            fill: var(--primary-color);
        }
        
        /* New styles for the vocabulary list */
        .vocabulary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .vocabulary-table th, .vocabulary-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
            word-wrap: break-word;
        }
        
        .vocabulary-table th {
            background-color: #f2f2f2;
            font-weight: 600;
            color: var(--secondary-color);
        }
        
        .vocabulary-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .vocabulary-table tr:hover {
            background-color: #f1f1f1;
        }
        
        .vocabulary-speaker-btn {
            background: none;
            border: none;
            cursor: pointer;
            width: 30px;
            height: 30px;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(76, 175, 80, 0.1);
            margin-left: 10px;
            flex-shrink: 0;
        }
        
        .vocabulary-speaker-btn:hover {
            background-color: rgba(76, 175, 80, 0.2);
        }
        
        .vocabulary-speaker-icon {
            width: 18px;
            height: 18px;
            fill: var(--primary-color);
        }
        
        .vocabulary-word {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .menu-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }
        
        .menu-buttons button {
            padding: 15px;
            font-size: 18px;
        }
        
        .back-button {
            margin-top: 20px;
            background-color: #6c757d;
        }
        
        .back-button:hover {
            background-color: #5a6268;
        }
        
        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        /* CSS cho màn hình liên hệ */
        .contact-info {
            background-color: var(--white);
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            box-shadow: var(--box-shadow);
        }
        
        .contact-info h3 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-dark);
            padding-bottom: 10px;
            margin-top: 0;
        }
        
        .contact-info p {
            margin: 8px 0;
            line-height: 1.6;
        }
        
        .contact-info a {
            color: var(--primary-dark);
            text-decoration: none;
        }
        
        .contact-info a:hover {
            text-decoration: underline;
        }
        
        /* Icon mạng xã hội */
        .social-icon {
            width: 20px;
            height: 20px;
            vertical-align: middle;
            margin-right: 8px;
        }
        
        .grade-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }
        
        .grade-buttons button {
            padding: 15px;
            font-size: 18px;
        }
        
        /* Auto review screen styles */
        .auto-review-word {
            font-size: 32px;
            font-weight: bold;
            text-align: center;
            margin: 30px 0;
            color: var(--white);
            transition: color 0.3s ease;
            word-wrap: break-word;
        }
        
        .auto-review-word.black {
            color: #000;
            font-weight: bold;
        }
        
        .auto-review-meaning {
            font-size: 20px;
            text-align: center;
            margin-bottom: 30px;
            color: var(--secondary-color);
            word-wrap: break-word;
        }
        
        .auto-review-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }
        
        .auto-review-buttons button {
            padding: 15px;
            font-size: 18px;
        }
        
        /* Chống sao chép và nhấp chuột phải trong màn hình làm bài */
        .quiz-screen {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        .quiz-screen * {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        .quiz-screen .option {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        .quiz-screen .speaker-btn {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* Cho phép chọn văn bản trong các màn hình khác */
        .result-screen, .vocabulary-list, .review-menu, .main-menu, .grade-selection, .contact-screen, .auto-review-screen {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
        
        .result-screen *, .vocabulary-list *, .review-menu *, .main-menu *, .grade-selection *, .contact-screen *, .auto-review-screen * {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
        
        /* Thông báo chống gian lận */
        .anti-cheat-notice {
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(244, 67, 54, 0.9);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            z-index: 1000;
            display: none;
        }

        /* --- NEW STYLES FOR RESULT SCREEN --- */
        .result-summary-container {
            display: flex;
            flex-direction: column; /* Mobile default: Column */
            gap: 20px;
            margin-bottom: 25px;
        }

        @media (min-width: 768px) {
            .result-summary-container {
                flex-direction: row; /* Desktop: Row */
                align-items: stretch;
            }
        }

        /* Cell 1: Chart Card */
        .chart-card {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 15px;
        }

        .chart-name {
            color: #9c27b0; /* Xanh tím */
            font-weight: bold;
            font-size: 24px; /* Tăng 50% so với font base 16px (1.5rem = 24px) */
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        /* Biểu đồ tròn */
        .pie-chart-wrapper {
            position: relative;
            width: 160px;
            height: 160px;
            margin-bottom: 10px;
        }

        .pie-chart {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            /* Gradient mặc định, sẽ được JS thay đổi */
            background: conic-gradient(#e0e0e0 0%, #e0e0e0 100%);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .pie-inner {
            position: absolute;
            width: 75%; /* Tạo độ dày cho biểu đồ */
            height: 75%;
            background-color: var(--white);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .pie-percentage {
            font-size: 32px;
            font-weight: 800;
            line-height: 1;
        }

        .pie-score-detail {
            font-size: 16px;
            font-weight: 600;
            margin-top: 5px;
            color: var(--secondary-color);
        }

        .chart-date {
            font-weight: bold;
            color: #001529; /* Xanh đen */
            font-size: 14px;
            margin-top: 5px;
        }

        /* Cell 2: Stats Card (2x2) */
        .stats-card {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .grid-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 15px;
            width: 100%;
        }

        .stat-item {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            border: 1px solid #eee;
        }

        .stat-icon {
            width: 32px;
            height: 32px;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 4px;
            font-weight: 600;
        }

        .stat-value {
            font-size: 16px;
            font-weight: bold;
            word-break: break-word;
        }

        /* Màu sắc riêng cho các ô nhỏ */
        .stat-start .stat-value { color: #1890ff; } /* Blue */
        .stat-end .stat-value { color: #f5222d; }   /* Red */
        .stat-streak .stat-value { color: #faad14; } /* Yellow/Orange */
        .stat-time .stat-value { color: #13c2c2; }   /* Cyan/Teal */

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 20px;
            }
            
            .header h2 {
                font-size: 18px;
            }
            
            .word {
                font-size: 24px;
            }
            
            .login-screen, .quiz-screen, .result-screen, .main-menu, .review-menu, .vocabulary-list, .grade-selection, .auto-review-screen {
                padding: 15px;
            }
            
            /* Giữ nguyên layout 1 hàng cho stats trên mobile như yêu cầu */
            .stats-container {
                flex-direction: row;
                flex-wrap: nowrap;
                justify-content: space-between;
                gap: 10px;
            }
            
            .question-counter, .streak {
                font-size: 14px; /* Giảm font chút xíu cho vừa trên mobile */
                white-space: nowrap;
            }

            .menu-buttons button, .grade-buttons button {
                padding: 12px;
                font-size: 16px;
            }
            
            .vocabulary-table th, .vocabulary-table td {
                padding: 8px;
                font-size: 14px;
            }
            
            .button-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .back-button {
                width: 100%;
            }
            
            .auto-review-word {
                font-size: 28px;
                margin: 20px 0;
            }
            
            .auto-review-meaning {
                font-size: 18px;
                margin-bottom: 20px;
            }
            
            .result-buttons {
                flex-direction: column;
            }
            
            .result-buttons button {
                width: 100%;
            }

            /* Responsive cho result summary */
            .chart-name {
                font-size: 20px;
            }
            
            .pie-chart-wrapper {
                width: 140px;
                height: 140px;
            }

            .stat-item {
                padding: 10px;
            }
            
            .range-btn {
                font-size: 12px;
                padding: 10px 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Giao diện chọn lớp -->
        <div id="grade-selection" class="grade-selection">
            <div class="header">
                <h1>ÔN TẬP GS VOCA TIẾNG ANH CƠ SỞ</h1>
                <h2 id="grade-title">Chọn lớp</h2>
            </div>
            
            <div class="grade-buttons">
                <button id="grade4-btn">ÔN TẬP GS VOCA E4</button>
                <button id="grade5-btn">ÔN TẬP GS VOCA E5</button>
                <button id="grade6-btn">ÔN TẬP GS VOCA E6</button>
                <button id="grade7-btn">ÔN TẬP GS VOCA E7</button>
                <button id="grade8-btn">ÔN TẬP GS VOCA E8</button>
                <button id="grade9-btn">ÔN TẬP GS VOCA E9</button>
                <button id="grade10-btn">E10 ĐỘNG TỪ THƯỜNG GẶP</button>
                <button id="contact-btn" class="back-button">LIÊN HỆ</button>
            </div>
        </div>

        <!-- Giao diện liên hệ -->
        <div id="contact-screen" class="main-menu hidden">
            <div class="header">
                <h1>THÔNG TIN LIÊN HỆ</h1>
                <h2>Giáo viên hỗ trợ</h2>
            </div>
            
            <div class="contact-info">
                <h3>Teacher Minho</h3>
                <p>Giáo viên tiếng Anh cấp 2,3 và ôn luyện đại học theo chuẩn IELTS, PTE</p>
                <p>
                    <svg class="social-icon" viewBox="0 0 24 24">
                        <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,9.5C7,8.7 7.7,8 8.5,8C9.3,8 10,8.7 10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5M12,17.23C10.25,17.23 8.71,16.5 7.81,15.42L9.23,14C9.68,14.72 10.75,15.23 12,15.23C13.25,15.23 14.32,14.72 14.77,14L16.19,15.42C15.29,16.5 13.75,17.23 12,17.23M15.5,11C14.7,11 14,10.3 14,9.5C14,8.7 14.7,8 15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11Z"/>
                    </svg>
                    Zalo: <a href="https://zalo.me/0933634766">0933.634.766</a>
                </p>
                <p>
                    <svg class="social-icon" viewBox="0 0 24 24">
                        <path d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z"/>
                    </svg>
                    Facebook: <a href="https://facebook.com/minho.letrong37">minho.letrong37</a>
                </p>
                <p>
                    <svg class="social-icon" viewBox="0 0 24 24">
                        <path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-1.22-.71-2.2-1.77-2.91-2.99-1.52-2.51-1.78-5.67-.82-8.37.95-2.69 3.06-4.97 5.78-6.01 2.72-1.04 5.84-.81 8.5.28.01-1.3-.39-2.58-1.22-3.61-.85-.99-2.06-1.61-3.3-1.73-1.29-.09-2.59.12-3.83.63-.18.06-.38.01-.46-.16-.06-.18-.01-.39.16-.45 1.47-.57 3.06-.81 4.64-.67.03 0 .05-.01.08-.01z"/>
                    </svg>
                    Tiktok: <a href="https://tiktok.com/@minhoedutech">minhoedutech</a>
                </p>
            </div>
            
            <div class="contact-info">
                <h3>Thầy Hùng</h3>
                <p>Giáo viên dạy kèm toán, tiếng Anh</p>
                <p>
                    <svg class="social-icon" viewBox="0 0 24 24">
                        <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,9.5C7,8.7 7.7,8 8.5,8C9.3,8 10,8.7 10,9.5C10,10.3 9.3,11 8.5,11C7.7,11 7,10.3 7,9.5M12,17.23C10.25,17.23 8.71,16.5 7.81,15.42L9.23,14C9.68,14.72 10.75,15.23 12,15.23C13.25,15.23 14.32,14.72 14.77,14L16.19,15.42C15.29,16.5 13.75,17.23 12,17.23M15.5,11C14.7,11 14,10.3 14,9.5C14,8.7 14.7,8 15.5,8C16.3,8 17,8.7 17,9.5C17,10.3 16.3,11 15.5,11Z"/>
                    </svg>
                    Zalo: <a href="https://zalo.me/0967095025">0967.095.025</a>
                </p>
                <p>
                    <svg class="social-icon" viewBox="0 0 24 24">
                        <path d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z"/>
                    </svg>
                    Facebook: <a href="https://facebook.com/leduyhung.vietnam">leduyhung.vietnam</a>
                </p>
                <p>
                    <svg class="social-icon" viewBox="0 0 24 24">
                        <path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-1.22-.71-2.2-1.77-2.91-2.99-1.52-2.51-1.78-5.67-.82-8.37.95-2.69 3.06-4.97 5.78-6.01 2.72-1.04 5.84-.81 8.5.28.01-1.3-.39-2.58-1.22-3.61-.85-.99-2.06-1.61-3.3-1.73-1.29-.09-2.59.12-3.83.63-.18.06-.38.01-.46-.16-.06-.18-.01-.39.16-.45 1.47-.57 3.06-.81 4.64-.67.03 0 .05-.01.08-.01z"/>
                    </svg>
                    Tiktok: <a href="https://tiktok.com/@leduyhungtiktok">leduyhungtiktok</a>
                </p>
                <p>
                    <svg class="social-icon" viewBox="0 0 24 24">
                        <path d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z"/>
                    </svg>
                    Youtube: <a href="https://youtube.com/byleduyhung">byleduyhung</a>
                </p>
            </div>
            
            <button id="back-from-contact-btn" class="back-button">Quay lại</button>
        </div>

        <!-- Giao diện 1: Màn hình chính -->
        <div id="main-menu" class="main-menu hidden">
            <div class="header">
                <h1 id="grade-header"></h1>
                <h2 id="unit-title">Chọn chế độ</h2>
            </div>
            
            <div class="menu-buttons">
                <button id="review-btn">ÔN BÀI</button>
                <button id="practice-btn">LÀM BÀI</button>
                <button id="back-to-grade-btn" class="back-button">Quay lại chọn lớp</button>
            </div>
        </div>

        <!-- Giao diện 2: Màn hình ôn bài -->
        <div id="review-menu" class="review-menu hidden">
            <div class="header">
                <h1 id="review-grade-header"></h1>
                <h2 id="review-unit-title">Chọn đề bài ôn tập</h2>
            </div>
            
            <div class="form-group">
                <label for="review-unit-select">Chọn đề bài:</label>
                <select id="review-unit-select">
                    <!-- Options sẽ được cập nhật động -->
                </select>
            </div>
            
            <button id="show-vocabulary-btn">ÔN BÀI</button>
            <button id="auto-review-btn">ÔN BÀI TỰ ĐỘNG</button>
            <button id="back-to-main-btn" class="back-button">Quay lại</button>
        </div>

        <!-- Giao diện 3: Danh sách từ vựng -->
        <div id="vocabulary-list" class="vocabulary-list hidden">
            <div class="header">
                <h1 id="vocab-grade-header"></h1>
                <h2 id="vocabulary-unit-title"></h2>
            </div>
            
            <table class="vocabulary-table">
                <thead>
                    <tr>
                        <th>STT</th>
                        <th>Từ vựng</th>
                        <th>(Từ loại) Nghĩa của từ</th>
                    </tr>
                </thead>
                <tbody id="vocabulary-table-body">
                </tbody>
            </table>
            <div class="button-container">
                <button id="back-to-review-btn" class="back-button">Quay lại</button>
            </div>
        </div>

        <!-- Màn hình ôn bài tự động -->
        <div id="auto-review-screen" class="auto-review-screen hidden">
            <div class="header">
                <h1 id="auto-review-grade-header"></h1>
                <h2 id="auto-review-unit-title"></h2>
            </div>
            
            <div class="word-container">
                <div id="auto-review-word" class="auto-review-word"></div>
                <button id="auto-review-speaker-btn" class="speaker-btn" title="Nghe phát âm">
                    <svg class="speaker-icon" viewBox="0 0 24 24">
                        <path d="M3,9v6h4l5,5V4L7,9H3z M16.5,12c0-1.77-1.02-3.29-2.5-4.03v8.05C15.48,15.29,16.5,13.77,16.5,12z M14,3.23v2.06c2.89,.86,5,3.54,5,6.71s-2.11,5.85-5,6.71v2.06c4.01-.91,7-4.49,7-8.77S18.01,4.14,14,3.23z"/>
                    </svg>
                </button>
            </div>
            
            <div id="auto-review-meaning" class="auto-review-meaning"></div>
            
            <div class="auto-review-buttons hidden" id="auto-review-end-buttons">
                <button id="auto-review-again-btn">ÔN LẠI TỰ ĐỘNG</button>
                <button id="auto-review-back-btn" class="back-button">Quay lại</button>
            </div>
        </div>

        <!-- Màn hình đăng nhập -->
        <div id="login-screen" class="login-screen hidden">
            <div class="header">
                <h1 id="login-grade-header"></h1>
                <h2 id="login-unit-title">Chọn đề bài làm bài</h2>
            </div>
            
            <div class="form-group">
                <label for="username">Nhập tên của bạn:</label>
                <input type="text" id="username" placeholder="Tên của bạn">
            </div>
            
            <div class="form-group">
                <label for="unit-select">Chọn đề bài:</label>
                <select id="unit-select">
                    <!-- Options sẽ được cập nhật động -->
                </select>
            </div>
            
            <div class="form-group">
                <label for="question-count">Chọn số câu hỏi:</label>
                <select id="question-count">
                    <!-- Options sẽ được cập nhật động -->
                </select>
            </div>
            
            <button id="start-btn">BẮT ĐẦU</button>
            
            <!-- Nút kiểm tra theo phạm vi (Grid 2x3) -->
            <div id="range-buttons-container" class="range-buttons-container">
                <!-- Sẽ được tạo bằng JS -->
            </div>

            <button id="comprehensive-test-btn" class="btn-comprehensive">KIỂM TRA TỔNG HỢP</button>
            
            <div class="progress-container hidden" id="loading-container">
                <div class="progress-text">Đang tải dữ liệu...</div>
                <div class="progress-bar" id="loading-bar"></div>
            </div>
            
            <button id="back-to-main-from-login-btn" class="back-button">Quay lại</button>
        </div>

        <!-- Màn hình chơi -->
        <div id="quiz-screen" class="quiz-screen hidden">
            <div class="header">
                <h1 id="quiz-grade-header"></h1>
                <h2 id="quiz-unit-title"></h2>
            </div>
            
            <div class="timer-container">
                <div id="timer-bar" class="timer-bar"></div>
            </div>
            
            <div class="stats-container">
                <div id="question-counter" class="question-counter">Câu 1/30</div>
                <div id="streak" class="streak">Chuỗi đúng: 0</div>
            </div>
            
            <div class="question">Chọn nghĩa đúng cho từ sau:</div>
            
            <div class="word-container">
                <div id="word" class="word"></div>
                <button id="speaker-btn" class="speaker-btn" title="Nghe phát âm">
                    <svg class="speaker-icon" viewBox="0 0 24 24">
                        <path d="M3,9v6h4l5,5V4L7,9H3z M16.5,12c0-1.77-1.02-3.29-2.5-4.03v8.05C15.48,15.29,16.5,13.77,16.5,12z M14,3.23v2.06c2.89,.86,5,3.54,5,6.71s-2.11,5.85-5,6.71v2.06c4.01-.91,7-4.49,7-8.77S18.01,4.14,14,3.23z"/>
                    </svg>
                </button>
            </div>
            
            <div id="options" class="options"></div>
        </div>

        <!-- Màn hình kết quả -->
        <div id="result-screen" class="result-screen hidden">
            <div class="header">
                <h1 id="result-grade-header"></h1>
                <h2>Kết quả - <span id="result-unit-title"></span></h2>
            </div>

            <!-- GIAO DIỆN BÁO CÁO MỚI -->
            <div class="result-summary-container">
                <!-- Ô 1: Biểu đồ tròn -->
                <div class="chart-card">
                    <h3 id="res-name" class="chart-name">TÊN HỌC VIÊN</h3>
                    <div class="pie-chart-wrapper">
                        <div id="res-pie-chart" class="pie-chart">
                            <div class="pie-inner">
                                <div id="res-percentage" class="pie-percentage">0%</div>
                                <div id="res-score-text" class="pie-score-detail">0/0</div>
                            </div>
                        </div>
                    </div>
                    <p id="res-date" class="chart-date">01/01/2024</p>
                </div>

                <!-- Ô 2: Thống kê 2x2 -->
                <div class="stats-card">
                    <div class="grid-stats">
                        <div class="stat-item stat-start">
                            <svg class="stat-icon" viewBox="0 0 24 24" fill="#1890ff">
                                <path d="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z"/>
                            </svg>
                            <span class="stat-label">Bắt đầu</span>
                            <span id="res-start-time" class="stat-value">--:--</span>
                        </div>
                        <div class="stat-item stat-end">
                            <svg class="stat-icon" viewBox="0 0 24 24" fill="#f5222d">
                                <path d="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"/>
                            </svg>
                            <span class="stat-label">Kết thúc</span>
                            <span id="res-end-time" class="stat-value">--:--</span>
                        </div>
                        <div class="stat-item stat-streak">
                            <svg class="stat-icon" viewBox="0 0 24 24" fill="#faad14">
                                <path d="M17.66,11.2C17.43,10.9 17.15,10.64 16.89,10.38C16.22,9.78 15.46,9.35 14.82,8.72C13.33,7.26 13,4.85 13.95,3C13,3.23 12.17,3.75 11.46,4.32C8.96,6.4 7.92,10.07 9.12,13.22C9.13,13.26 9.16,13.27 9.19,13.27C9.25,13.27 9.28,13.25 9.29,13.18C11.13,9.64 14.93,8.54 17.66,11.2M13,17H17V19H13V17M9,17H11V19H9V17M5,17H7V19H5V17Z"/>
                            </svg>
                            <span class="stat-label">Chuỗi đúng</span>
                            <span id="res-max-streak" class="stat-value">0</span>
                        </div>
                        <div class="stat-item stat-time">
                            <svg class="stat-icon" viewBox="0 0 24 24" fill="#13c2c2">
                                <path d="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z"/>
                            </svg>
                            <span class="stat-label">Thời gian</span>
                            <span id="res-duration" class="stat-value">0s</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- KẾT THÚC GIAO DIỆN BÁO CÁO MỚI -->

            <div class="result-item">
                <h3>Các câu bạn làm sai:</h3>
                <div id="wrong-questions" class="wrong-questions-list"></div>
            </div>
            
            <div class="result-item">
                <h3>Danh sách bài làm:</h3>
                <table id="answer-history" class="answer-history">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Từ</th>
                            <th>Đáp án đã chọn</th>
                            <th>Đáp án đúng</th>
                        </tr>
                    </thead>
                    <tbody id="answer-history-body">
                    </tbody>
                </table>
            </div>
            
            <div class="result-buttons">
                <button id="restart-btn">Làm lại</button>
                <button id="new-game-btn" class="btn-secondary">Chơi mới</button>
            </div>
            <button id="back-to-grade-from-result-btn" class="back-button">Quay lại chọn lớp</button>
        </div>
        
        <!-- Thông báo chống gian lận -->
        <div id="anti-cheat-notice" class="anti-cheat-notice">
            Không được sao chép trong khi làm bài!
        </div>
    </div>
    
    <script>
        // Dữ liệu câu hỏi từ file Excel Unit 1 E4
        const grade4Unit1Questions = [
            { id: 1, word: "hello", correct: "(interj): xin chào", wrong1: "(n): tạm biệt", wrong2: "(v): chạy", wrong3: "(adj): đẹp" },
            { id: 2, word: "book", correct: "(n): sách", wrong1: "(n): bút", wrong2: "(v): đọc", wrong3: "(adj): mới" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 2 E4
        const grade4Unit2Questions = [
            { id: 1, word: "pen", correct: "(n): bút", wrong1: "(n): sách", wrong2: "(v): viết", wrong3: "(adj): cũ" },
            { id: 2, word: "desk", correct: "(n): cái bàn", wrong1: "(n): cái ghế", wrong2: "(v): ngồi", wrong3: "(adj): lớn" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 3 E4
        const grade4Unit3Questions = [
            { id: 1, word: "teacher", correct: "(n): giáo viên", wrong1: "(n): học sinh", wrong2: "(v): dạy", wrong3: "(adj): trẻ" },
            { id: 2, word: "student", correct: "(n): học sinh", wrong1: "(n): giáo viên", wrong2: "(v): học", wrong3: "(adj): lớn" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 4 E4
        const grade4Unit4Questions = [
            { id: 1, word: "school", correct: "(n): trường học", wrong1: "(n): nhà", wrong2: "(v): đến", wrong3: "(adj): nhỏ" },
            { id: 2, word: "classroom", correct: "(n): lớp học", wrong1: "(n): sân chơi", wrong2: "(v): học", wrong3: "(adj): rộng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 5 E4
        const grade4Unit5Questions = [
            { id: 1, word: "friend", correct: "(n): bạn bè", wrong1: "(n): thù địch", wrong2: "(v): chơi", wrong3: "(adj): thân thiện" },
            { id: 2, word: "family", correct: "(n): gia đình", wrong1: "(n): bạn bè", wrong2: "(v): yêu", wrong3: "(adj): hạnh phúc" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 6 E4
        const grade4Unit6Questions = [
            { id: 1, word: "mother", correct: "(n): mẹ", wrong1: "(n): cha", wrong2: "(v): yêu", wrong3: "(adj): dịu dàng" },
            { id: 2, word: "father", correct: "(n): cha", wrong1: "(n): mẹ", wrong2: "(v): bảo vệ", wrong3: "(adj): nghiêm khắc" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 7 E4
        const grade4Unit7Questions = [
            { id: 1, word: "sister", correct: "(n): chị gái", wrong1: "(n): anh trai", wrong2: "(v): chăm sóc", wrong3: "(adj): hiền lành" },
            { id: 2, word: "brother", correct: "(n): anh trai", wrong1: "(n): chị gái", wrong2: "(v): giúp đỡ", wrong3: "(adj): mạnh mẽ" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 8 E4
        const grade4Unit8Questions = [
            { id: 1, word: "cat", correct: "(n): con mèo", wrong1: "(n): con chó", wrong2: "(v): kêu", wrong3: "(adj): nhỏ" },
            { id: 2, word: "dog", correct: "(n): con chó", wrong1: "(n): con mèo", wrong2: "(v): sủa", wrong3: "(adj): trung thành" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 9 E4
        const grade4Unit9Questions = [
            { id: 1, word: "apple", correct: "(n): quả táo", wrong1: "(n): quả chuối", wrong2: "(v): ăn", wrong3: "(adj): ngọt" },
            { id: 2, word: "banana", correct: "(n): quả chuối", wrong1: "(n): quả táo", wrong2: "(v): bóc vỏ", wrong3: "(adj): chín" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 10 E4
        const grade4Unit10Questions = [
            { id: 1, word: "water", correct: "(n): nước", wrong1: "(n): sữa", wrong2: "(v): uống", wrong3: "(adj): trong" },
            { id: 2, word: "milk", correct: "(n): sữa", wrong1: "(n): nước", wrong2: "(v): pha", wrong3: "(adj): trắng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 11 E4
        const grade4Unit11Questions = [
            { id: 1, word: "bread", correct: "(n): bánh mì", wrong1: "(n): cơm", wrong2: "(v): ăn", wrong3: "(adj): mềm" },
            { id: 2, word: "rice", correct: "(n): cơm", wrong1: "(n): bánh mì", wrong2: "(v): nấu", wrong3: "(adj): trắng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 12 E4
        const grade4Unit12Questions = [
            { id: 1, word: "breakfast", correct: "(n): bữa sáng", wrong1: "(n): bữa trưa", wrong2: "(v): ăn", wrong3: "(adj): sớm" },
            { id: 2, word: "lunch", correct: "(n): bữa trưa", wrong1: "(n): bữa tối", wrong2: "(v): nấu", wrong3: "(adj): no" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 13 E4
        const grade4Unit13Questions = [
            { id: 1, word: "dinner", correct: "(n): bữa tối", wrong1: "(n): bữa sáng", wrong2: "(v): dùng", wrong3: "(adj): muộn" },
            { id: 2, word: "food", correct: "(n): thức ăn", wrong1: "(n): đồ uống", wrong2: "(v): nấu", wrong3: "(adj): ngon" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 14 E4
        const grade4Unit14Questions = [
            { id: 1, word: "drink", correct: "(n): đồ uống", wrong1: "(n): thức ăn", wrong2: "(v): uống", wrong3: "(adj): lạnh" },
            { id: 2, word: "juice", correct: "(n): nước trái cây", wrong1: "(n): nước lọc", wrong2: "(v): ép", wrong3: "(adj): ngọt" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 15 E4
        const grade4Unit15Questions = [
            { id: 1, word: "coffee", correct: "(n): cà phê", wrong1: "(n): trà", wrong2: "(v): pha", wrong3: "(adj): đắng" },
            { id: 2, word: "tea", correct: "(n): trà", wrong1: "(n): cà phê", wrong2: "(v): pha", wrong3: "(adj): nóng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 16 E4
        const grade4Unit16Questions = [
            { id: 1, word: "house", correct: "(n): ngôi nhà", wrong1: "(n): căn hộ", wrong2: "(v): sống", wrong3: "(adj): lớn" },
            { id: 2, word: "garden", correct: "(n): khu vườn", wrong1: "(n): sân chơi", wrong2: "(v): trồng", wrong3: "(adj): xanh" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 17 E4
        const grade4Unit17Questions = [
            { id: 1, word: "room", correct: "(n): căn phòng", wrong1: "(n): nhà bếp", wrong2: "(v): ở", wrong3: "(adj): rộng" },
            { id: 2, word: "kitchen", correct: "(n): nhà bếp", wrong1: "(n): phòng ngủ", wrong2: "(v): nấu ăn", wrong3: "(adj): sạch" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 18 E4
        const grade4Unit18Questions = [
            { id: 1, word: "bedroom", correct: "(n): phòng ngủ", wrong1: "(n): phòng khách", wrong2: "(v): ngủ", wrong3: "(adj): tối" },
            { id: 2, word: "bathroom", correct: "(n): phòng tắm", wrong1: "(n): phòng ăn", wrong2: "(v): tắm", wrong3: "(adj): sạch" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 19 E4
        const grade4Unit19Questions = [
            { id: 1, word: "living room", correct: "(n): phòng khách", wrong1: "(n): phòng làm việc", wrong2: "(v): tiếp khách", wrong3: "(adj): rộng" },
            { id: 2, word: "dining room", correct: "(n): phòng ăn", wrong1: "(n): phòng ngủ", wrong2: "(v): ăn", wrong3: "(adj): ấm cúng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 20 E4
        const grade4Unit20Questions = [
            { id: 1, word: "window", correct: "(n): cửa sổ", wrong1: "(n): cửa ra vào", wrong2: "(v): mở", wrong3: "(adj): trong" },
            { id: 2, word: "door", correct: "(n): cửa ra vào", wrong1: "(n): cửa sổ", wrong2: "(v): đóng", wrong3: "(adj): chắc chắn" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 1 E5
        const grade5Unit1Questions = [
            { id: 1, word: "computer", correct: "(n): máy tính", wrong1: "(n): điện thoại", wrong2: "(v): sử dụng", wrong3: "(adj): hiện đại" },
            { id: 2, word: "phone", correct: "(n): điện thoại", wrong1: "(n): máy tính", wrong2: "(v): gọi", wrong3: "(adj): thông minh" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 2 E5
        const grade5Unit2Questions = [
            { id: 1, word: "table", correct: "(n): cái bàn", wrong1: "(n): cái ghế", wrong2: "(v): ngồi", wrong3: "(adj): cao" },
            { id: 2, word: "chair", correct: "(n): cái ghế", wrong1: "(n): cái bàn", wrong2: "(v): ngồi", wrong3: "(adj): thoải mái" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 3 E5
        const grade5Unit3Questions = [
            { id: 1, word: "pencil", correct: "(n): cây bút chì", wrong1: "(n): cây bút bi", wrong2: "(v): viết", wrong3: "(adj): dài" },
            { id: 2, word: "eraser", correct: "(n): cục tẩy", wrong1: "(n): thước kẻ", wrong2: "(v): xóa", wrong3: "(adj): mềm" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 4 E5
        const grade5Unit4Questions = [
            { id: 1, word: "bag", correct: "(n): cái cặp", wrong1: "(n): quyển vở", wrong2: "(v): đeo", wrong3: "(adj): lớn" },
            { id: 2, word: "notebook", correct: "(n): quyển vở", wrong1: "(n): cây bút", wrong2: "(v): viết", wrong3: "(adj): mới" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 5 E5
        const grade5Unit5Questions = [
            { id: 1, word: "clock", correct: "(n): đồng hồ", wrong1: "(n): lịch", wrong2: "(v): xem giờ", wrong3: "(adj): tròn" },
            { id: 2, word: "calendar", correct: "(n): lịch", wrong1: "(n): đồng hồ", wrong2: "(v): xem ngày", wrong3: "(adj): đẹp" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 6 E5
        const grade5Unit6Questions = [
            { id: 1, word: "sun", correct: "(n): mặt trời", wrong1: "(n): mặt trăng", wrong2: "(v): chiếu sáng", wrong3: "(adj): chói" },
            { id: 2, word: "moon", correct: "(n): mặt trăng", wrong1: "(n): mặt trời", wrong2: "(v): chiếu sáng", wrong3: "(adj): sáng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 7 E5
        const grade5Unit7Questions = [
            { id: 1, word: "star", correct: "(n): ngôi sao", wrong1: "(n): hành tinh", wrong2: "(v): phát sáng", wrong3: "(adj): nhỏ" },
            { id: 2, word: "cloud", correct: "(n): đám mây", wrong1: "(n): cơn mưa", wrong2: "(v): che khuất", wrong3: "(adj): trắng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 8 E5
        const grade5Unit8Questions = [
            { id: 1, word: "rain", correct: "(n): cơn mưa", wrong1: "(n): cơn gió", wrong2: "(v): rơi", wrong3: "(adj): lớn" },
            { id: 2, word: "wind", correct: "(n): cơn gió", wrong1: "(n): cơn mưa", wrong2: "(v): thổi", wrong3: "(adj): mạnh" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 9 E5
        const grade5Unit9Questions = [
            { id: 1, word: "snow", correct: "(n): tuyết", wrong1: "(n): mưa", wrong2: "(v): rơi", wrong3: "(adj): trắng" },
            { id: 2, word: "ice", correct: "(n): băng", wrong1: "(n): nước", wrong2: "(v): tan", wrong3: "(adj): lạnh" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 10 E5
        const grade5Unit10Questions = [
            { id: 1, word: "tree", correct: "(n): cái cây", wrong1: "(n): bông hoa", wrong2: "(v): trồng", wrong3: "(adj): cao" },
            { id: 2, word: "flower", correct: "(n): bông hoa", wrong1: "(n): cái lá", wrong2: "(v): nở", wrong3: "(adj): đẹp" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 11 E5
        const grade5Unit11Questions = [
            { id: 1, word: "leaf", correct: "(n): cái lá", wrong1: "(n): cành cây", wrong2: "(v): rơi", wrong3: "(adj): xanh" },
            { id: 2, word: "branch", correct: "(n): cành cây", wrong1: "(n): gốc cây", wrong2: "(v): mọc", wrong3: "(adj): dài" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 12 E5
        const grade5Unit12Questions = [
            { id: 1, word: "root", correct: "(n): gốc cây", wrong1: "(n): thân cây", wrong2: "(v): bám", wrong3: "(adj): to" },
            { id: 2, word: "trunk", correct: "(n): thân cây", wrong1: "(n): cành cây", wrong2: "(v): vươn", wrong3: "(adj): thẳng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 13 E5
        const grade5Unit13Questions = [
            { id: 1, word: "forest", correct: "(n): khu rừng", wrong1: "(n): cánh đồng", wrong2: "(v): đi qua", wrong3: "(adj): rậm" },
            { id: 2, word: "field", correct: "(n): cánh đồng", wrong1: "(n): con sông", wrong2: "(v): cày", wrong3: "(adj): rộng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 14 E5
        const grade5Unit14Questions = [
            { id: 1, word: "river", correct: "(n): con sông", wrong1: "(n): cái hồ", wrong2: "(v): chảy", wrong3: "(adj): dài" },
            { id: 2, word: "lake", correct: "(n): cái hồ", wrong1: "(n): con suối", wrong2: "(v): chứa nước", wrong3: "(adj): lớn" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 15 E5
        const grade5Unit15Questions = [
            { id: 1, word: "stream", correct: "(n): con suối", wrong1: "(n): con sông", wrong2: "(v): chảy", wrong3: "(adj): nhỏ" },
            { id: 2, word: "sea", correct: "(n): biển cả", wrong1: "(n): đại dương", wrong2: "(v): sóng", wrong3: "(adj): rộng lớn" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 16 E5
        const grade5Unit16Questions = [
            { id: 1, word: "ocean", correct: "(n): đại dương", wrong1: "(n): biển cả", wrong2: "(v): bao quanh", wrong3: "(adj): sâu" },
            { id: 2, word: "beach", correct: "(n): bãi biển", wrong1: "(n): núi non", wrong2: "(v): tắm nắng", wrong3: "(adj): cát" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 17 E5
        const grade5Unit17Questions = [
            { id: 1, word: "mountain", correct: "(n): ngọn núi", wrong1: "(n): thung lũng", wrong2: "(v): leo", wrong3: "(adj): cao" },
            { id: 2, word: "valley", correct: "(n): thung lũng", wrong1: "(n): đồng bằng", wrong2: "(v): đi qua", wrong3: "(adj): thấp" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 18 E5
        const grade5Unit18Questions = [
            { id: 1, word: "hill", correct: "(n): ngọn đồi", wrong1: "(n): đồng cỏ", wrong2: "(v): leo", wrong3: "(adj): thấp" },
            { id: 2, word: "plain", correct: "(n): đồng bằng", wrong1: "(n): cao nguyên", wrong2: "(v): canh tác", wrong3: "(adj): bằng phẳng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 19 E5
        const grade5Unit19Questions = [
            { id: 1, word: "desert", correct: "(n): sa mạc", wrong1: "(n): rừng rậm", wrong2: "(v): băng qua", wrong3: "(adj): khô cằn" },
            { id: 2, word: "island", correct: "(n): hòn đảo", wrong1: "(n): bán đảo", wrong2: "(v): khám phá", wrong3: "(adj): nhỏ" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 20 E5
        const grade5Unit20Questions = [
            { id: 1, word: "peninsula", correct: "(n): bán đảo", wrong1: "(n): vịnh", wrong2: "(v): bao quanh", wrong3: "(adj): hẹp" },
            { id: 2, word: "gulf", correct: "(n): vịnh", wrong1: "(n): eo biển", wrong2: "(v): nối", wrong3: "(adj): rộng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 1 E6
        const grade6Unit1Questions = [
            { id: 1, word: "special", correct: "(adj): đặc biệt", wrong1: "(v): đến", wrong2: "(n): vườn", wrong3: "(n): lời khuyên" },
            { id: 2, word: "ready", correct: "(adj): sẵn sàng", wrong1: "(n): làng quê", wrong2: "(n): trường trung học", wrong3: "(n): bí mật" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 2 E6
        const grade6Unit2Questions = [
            { id: 1, word: "room", correct: "(n): phòng", wrong1: "(n): tủ quần áo", wrong2: "(n): đồng hồ", wrong3: "(n): mẹ" },
            { id: 2, word: "sister", correct: "(n): em gái, chị gái", wrong1: "(n): cá mập", wrong2: "(n): máy vi tính", wrong3: "(n): đôi đũa" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 3
        const grade6Unit3Questions = [
            { id: 1, word: "idea", correct: "(n): ý tưởng", wrong1: "(n): mọi thứ", wrong2: "(adj): thấp, ngắn", wrong3: "(n): thư" },
            { id: 2, word: "picnic", correct: "(n): chuyến dã ngoại", wrong1: "(adj): màu vàng hoe", wrong2: "(n): bố mẹ", wrong3: "(n): cầu lông" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 4
        const grade6Unit4Questions = [
            { id: 1, word: "arrive", correct: "(v): đến", wrong1: "(v): không thích", wrong2: "(n): bưu thiếp", wrong3: "(adj): to, lớn" },
            { id: 2, word: "excited", correct: "(adj): phấn khích", wrong1: "(n): các vùng ngoại thành", wrong2: "(adj): bên trái", wrong3: "(n): thời tiết" },
        ];
        
        // Dữ liệu câu hỏi từ file Excel Unit 5 (60 câu)
        const grade6Unit5Questions = [
            { id: 1, word: "geography", correct: "(n): địa lý", wrong1: "(n): áo phông", wrong2: "(n): dã ngoại", wrong3: "(adj): rỗng, trống rỗng" },
            { id: 2, word: "now", correct: "(adv): bây giờ", wrong1: "(n): nhóm", wrong2: "(n): giờ", wrong3: "(n): tủ lạnh" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 6 (60 câu)
        const grade6Unit6Questions = [
            { id: 1, word: "home", correct: "(n): nhà", wrong1: "(v): chạy", wrong2: "(n): nửa đêm", wrong3: "(n): pho mát" },
            { id: 2, word: "have", correct: "(v): có", wrong1: "(n): tiếng ồn", wrong2: "(v): hát", wrong3: "(n): bánh mì" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 7 (60 câu)
        const grade6Unit7Questions = [
            { id: 1, word: "today", correct: "(adv): hôm nay", wrong1: "(n): tiếng Anh", wrong2: "(adj): có tính giáo dục", wrong3: "(n): hoạt động" },
            { id: 2, word: "watch", correct: "(v): xem", wrong1: "(n): cuối tuần", wrong2: "(n): con cáo", wrong3: "(n): sân vận động" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 8 (60 câu)
        const grade6Unit8Questions = [
            { id: 1, word: "gym", correct: "(n): phòng tập thể dục", wrong1: "(adj): nổi tiếng", wrong2: "(adj): xin chúc mừng", wrong3: "(adj): kiệt sức" },
            { id: 2, word: "equipment", correct: "(n): thiết bị", wrong1: "(n): hành khách", wrong2: "(n): người chơi", wrong3: "(n): ngủ" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 9 (60 câu)
        const grade6Unit9Questions = [
            { id: 1, word: "holiday", correct: "(n): ngày nghỉ", wrong1: "(n): hồ bơi", wrong2: "(n): thủ đô", wrong3: "(n): bờ biển" },
            { id: 2, word: "Australia", correct: "(n): nước Úc", wrong1: "(n): Thụy Điển", wrong2: "(n): Luân Đôn", wrong3: "(n): New York" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 10 (60 câu)
        const grade6Unit10Questions = [
            { id: 1, word: "picture", correct: "(n): bức tranh", wrong1: "(n): kỳ thi", wrong2: "(v): bao quanh", wrong3: "(n): việc nhà" },
            { id: 2, word: "future", correct: "(n): tương lai", wrong1: "(adj): ốm", wrong2: "(adj): hoàn hảo", wrong3: "(n): nghỉ" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 11
        const grade6Unit11Questions = [
            { id: 1, word: "picnic", correct: "(n): dã ngoại", wrong1: "(n): ngôi đền", wrong2: "(n): trao đổi", wrong3: "(v): tiết kiệm" },
            { id: 2, word: "supermarket", correct: "(n): siêu thị", wrong1: "(n): nghệ sĩ", wrong2: "(v): vứt", wrong3: "(n): lãng phí" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 12
        const grade6Unit12Questions = [
            { id: 1, word: "robots", correct: "(n): người máy", wrong1: "(n) sự chuyển động", wrong2: "(adj) thông minh", wrong3: "(n) công nghệ" },
            { id: 2, word: "do the dishes", correct: "(phr): rửa chén đĩa", wrong1: "(adj) nhân tạo", wrong2: "(n) máy móc", wrong3: "(n) công nhân, người lao động" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 1 E7 (56 câu)
        const grade7Unit1Questions = [
            { id: 1, word: "amazing", correct: "(adj): tuyệt vời", wrong1: "(n): lợi ích", wrong2: "(v.phr): phát triển khả năng sáng tạo", wrong3: "(v.phr): chơi bóng rổ" },
            { id: 2, word: "make it yourself", correct: "(v.phr): tự làm lấy", wrong1: "(n): nghĩa vụ, bổn phận", wrong2: "(v.phr): giảm căng thẳng", wrong3: "(v): đến" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 2 (60 câu)
        const grade7Unit2Questions = [
            { id: 1, word: "boat", correct: "(v): chèo thuyền", wrong1: "(v.phr): lên cân", wrong2: "(n,adj): chất béo, béo, mập", wrong3: "(n): thức ăn nhanh" },
            { id: 2, word: "exercise", correct: "(v): tập thể dục", wrong1: "(n): cúm, cảm cúm", wrong2: "(n): chế độ ăn uống", wrong3: "(n): người ăn chay" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 3 (60 câu)
        const grade7Unit3Questions = [
            { id: 1, word: "board game", correct: "(n): trò chơi bàn cờ", wrong1: "(v.phr): lên cân", wrong2: "(v): bán", wrong3: "(n.phr): trẻ em cơ nhỡ" },
            { id: 2, word: "meet up", correct: "(phr.v): gặp", wrong1: "(n): cúm, cảm cúm", wrong2: "(adj): nổi tiếng", wrong3: "(v.phr): cho phép ai đó làm việc gì" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 4 (57 câu)
        const grade7Unit4Questions = [
            { id: 1, word: "listening to music", correct: "(v.phr): nghe nhạc", wrong1: "(n.phr): việc trồng lúa", wrong2: "(adj): thân thiện", wrong3: "(n): chân dung" },
            { id: 2, word: "classical music", correct: "(n): nhạc cổ điển", wrong1: "(n): nghệ thuật vẽ đường phố", wrong2: "(n): phim hài", wrong3: "(n): nhà khoa học" },
        ];        

        // Dữ liệu câu hỏi từ file Excel Unit 5 (58 câu)
        const grade7Unit5Questions = [
            { id: 1, word: "fish sauce", correct: "(n.phr): nước mắm", wrong1: "(n): bánh mì nướng", wrong2: "(adj): không xương", wrong3: "(n): công thức" },
            { id: 2, word: "roast chicken", correct: "(n): gà quay", wrong1: "(n): trà xanh", wrong2: "(n): vị", wrong3: "(n): nước cam" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 6
        const grade7Unit6Questions = [
            { id: 1, word: "lower secondary school", correct: "(n): trường trung học cơ sở", wrong1: "(v.phr): khuyến khích ai đó làm gì", wrong2: "(v.phr): hát nhạc tiếng Anh", wrong3: "(v.phr): diễn ra" },
            { id: 2, word: "classmate", correct: "(n): bạn cùng lớp", wrong1: "(v.phr): trồng rau", wrong2: "(n): công ty du lịch", wrong3: "(n): đùi gà sốt tiêu đen" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 7
        const grade7Unit7Questions = [
            { id: 1, word: "cycle round the lake", correct: "(v.phr) đạp xe quanh hồ", wrong1: "(phr.v) lên/ xuống xe buýt", wrong2: "(adv) một cách nguy hiểm", wrong3: "(adj) lên cân" },
            { id: 2, word: "motorbike", correct: "(n) xe gắn máy", wrong1: "(n.phr) phương tiện đang di chuyển", wrong2: "(v.phr) không được phép làm gì", wrong3: "(v.phr) cho lời khuyên" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 8
        const grade7Unit8Questions = [
            { id: 1, word: "go to the cinema", correct: "(v.phr) xem phim rạp", wrong1: "(adj) hấp dẫn", wrong2: "(adj) thú vị", wrong3: "(v) chiến thắng" },
            { id: 2, word: "fantasy", correct: "(n) phim viễn tưởng", wrong1: "(n.phr) nhiều cảnh hành động", wrong2: "(v) chấp nhận", wrong3: "(v) đối chiếu" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 9
        const grade7Unit9Questions = [
            { id: 1, word: "cozy", correct: "(adj): ấm áp", wrong1: "(n) sinh đôi", wrong2: "(phr.v) ghé chơi", wrong3: "(v) thảo luận" },
            { id: 2, word: "take photos", correct: "(v.phr) chụp hình", wrong1: "(n) đồng phục", wrong2: "(v.phr) trái cây mùa thu", wrong3: "(v) chuẩn bị" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 10
        const grade7Unit10Questions = [
            { id: 1, word: "do a project on", correct: "(v.phr) thực hiện một dự án", wrong1: "(v.phr) không sử dụng", wrong2: "(v) sưởi ấm", wrong3: "(n.phr) phương tiện công cộng" },
            { id: 2, word: "come from", correct: "(phr.v) đến từ đâu", wrong1: "(v) làm quá lạnh", wrong2: "(n.phr) thiết bị điện", wrong3: "(n.phr) bóng đèn tiết kiệm năng lượng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 11
        const grade7Unit11Questions = [
            { id: 1, word: "hyperloop", correct: "(n) tàu siêu tốc", wrong1: "(v) sạc, nạp", wrong2: "(phr.v) băng qua", wrong3: "(n.phr) xe hơi chạy bằng xăng" },
            { id: 2, word: "traffic jam", correct: "(n.phr) kẹt xe", wrong1: "(adj) tiết kiệm", wrong2: "(n) xe điện tử", wrong3: "(n) hành tinh" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 12
        const grade7Unit12Questions = [
            { id: 1, word: "holiday", correct: "(n) kỳ nghỉ", wrong1: "(v) nằm", wrong2: "(n) Người Anh", wrong3: "(v) thể hiện" },
            { id: 2, word: "fantastic", correct: "(adj) tuyệt vời", wrong1: "(n.phr) gia đình hoàng gia", wrong2: "(phr.v) chảy qua", wrong3: "(n) Bang" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 1 E8 (khung dữ liệu mẫu)
        const grade8Unit1Questions = [
            { id: 1, word: "look for", correct: "(phr.v) tìm kiếm", wrong1: "(n) sức mạnh", wrong2: "(adj) tự làm", wrong3: "(v): ghét" },
            { id: 2, word: "knitting kit", correct: "(np):bộ dụng cụ đan", wrong1: "(vp) giảm căng thẳng", wrong2: "(v) mời", wrong3: "(adj) độc ác" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 2 (60 câu)
        const grade8Unit2Questions = [
            { id: 1, word: "catch", correct: "(v) đánh được, câu được (cá)", wrong1: "(phr.v) hòa thuận", wrong2: "(adj) cổ đại", wrong3: "(adv) sớm" },
            { id: 2, word: "cattle", correct: "(n) gia súc", wrong1: "(adj) nông thôn", wrong2: "(adj) đặc biệt", wrong3: "(adv) thường xuyên" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 3 (60 câu)
        const grade8Unit3Questions = [
            { id: 1, word: "forum", correct: "(n) diễn đàn", wrong1: "(np) kỹ năng làm việc nhóm", wrong2: "(n) bạn cùng lớp", wrong3: "(adj) nhạy cảm" },
            { id: 2, word: "club", correct: "(n) câu lạc bộ", wrong1: "(n) điện thoại thông minh", wrong2: "(adj) thư giãn", wrong3: "(n) hoạt động" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 4 (60 câu)
        const grade8Unit4Questions = [
            { id: 1, word: "communal house", correct: "(np) nhà rông, nhà sinh hoạt cộng đồng", wrong1: "(adv) chính, chủ yếu", wrong2: "(n) câu chuyện", wrong3: "(n) bánh xe nước" },
            { id: 2, word: "costume", correct: "(n) trang phục", wrong1: "(n) phạm vi", wrong2: "(phr.v) đi xuống, giảm", wrong3: "(np) bức tranh đầy màu sắc" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 5 (60 câu)
        const grade8Unit5Questions = [
            { id: 1, word: "acrobatics", correct: "(n) xiếc, các động tác nhào lộn", wrong1: "(n) phong tục", wrong2: "(n) bầu không khí", wrong3: "(phr.v) tham gia" },
            { id: 2, word: "admire", correct: "(v) khâm phục, ngưỡng mộ", wrong1: "(n) tổ tiên", wrong2: "(np) thịt gà hấp", wrong3: "(phr.v) nghĩ ra, nảy ra" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 6 (60 câu)
        const grade8Unit6Questions = [
            { id: 1, word: "dogsled", correct: "(n) xe trượt tuyết chó kéo", wrong1: "(v) tập trung", wrong2: "(phr.v) lâm vào, mắc vào", wrong3: "(vp) thi cử" },
            { id: 2, word: "experience", correct: "(n, v) kinh nghiệm, trải nghiệm", wrong1: "(n) tự do", wrong2: "(phr.v) bật (công tắc)", wrong3: "(n) phòng thí nghiệm" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 7 (60 câu)
        const grade8Unit7Questions = [
            { id: 1, word: "carbon dioxide", correct: "(np) khí thải của sự sống các bo níc CO2", wrong1: "(adj) thuộc về thuốc", wrong2: "(vp) lau bàn", wrong3: "(phr.v) chặt" },
            { id: 2, word: "carbon footprint", correct: "(np) dấu chân ghi nhận thải các bon", wrong1: "(np) tài nguyên thiên nhiên", wrong2: "(adj) hoang dã", wrong3: "(v) hấp thụ" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 8 (60 câu)
        const grade8Unit8Questions = [
            { id: 1, word: "access", correct: "(n) nguồn để tiếp cận, truy cập vào", wrong1: "(n) sự phổ biến", wrong2: "(v) hết hạn", wrong3: "(np) cửa hàng trực tuyến" },
            { id: 2, word: "addicted", correct: "(adj) say mê, nghiện", wrong1: "(n) lợi thế", wrong2: "(n) balo, túi đeo sau lưng", wrong3: "(adj) ngoài trời" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 9 (60 câu)
        const grade8Unit9Questions = [
            { id: 1, word: "authority", correct: "(n) chính quyền", wrong1: "(adv) trong khoảng thời gian", wrong2: "(n) bùn", wrong3: "(n/v) tiếng còi, huýt sáo" },
            { id: 2, word: "damage", correct: "(n/v) thiệt hại, gây tổn hại", wrong1: "(np) gió to", wrong2: "(n) bảng câu hỏi", wrong3: "(n) tủ sách" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 10 (60 câu)
        const grade8Unit10Questions = [
            { id: 1, word: "account", correct: "(n) tài khoản (ngân hàng, mạng xã hội..)", wrong1: "(adj) (thuộc) tài liệu", wrong2: "(v) làm gián đoạn", wrong3: "(v) thể hiện" },
            { id: 2, word: "advanced", correct: "(adj) tiên tiến", wrong1: "(np) đối tác kinh doanh", wrong2: "(n) thiết bị", wrong3: "(n) cảm giác" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 11 (60 câu)
        const grade8Unit11Questions = [
            { id: 1, word: "application", correct: "(n) ứng dụng", wrong1: "(v) thay thế", wrong2: "(n) thiết bị", wrong3: "(adj) nghèo" },
            { id: 2, word: "attendance", correct: "(n) sự tham dự", wrong1: "(v) tạo nên", wrong2: "(v) động lực", wrong3: "(v) bán hàng tự động" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 12 (60 câu)
        const grade8Unit12Questions = [
            { id: 1, word: "thrilling", correct: "(adj) kịch tính", wrong1: "(n) phi hành gia", wrong2: "(adj) hứa hẹn", wrong3: "(n) giáo sư" },
            { id: 2, word: "fiction", correct: "(n) viễn tưởng", wrong1: "(n) tàu vũ trụ", wrong2: "(n) dấu vết", wrong3: "(np) hệ mặt trời" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 1 E9 (khung dữ liệu mẫu)
        const grade9Unit1Questions = [
            { id: 1, word: "local", correct: "(adj) (thuộc) địa phương", wrong1: "(n): khách du lịch", wrong2: "(v.phr): phàn nàn", wrong3: "(n.phr): múa rối nước" },
            { id: 2, word: "community", correct: "(n) cộng đồng", wrong1: "(v.phr): chơi đàn cello", wrong2: "(n): họa sĩ", wrong3: "(n.phr): loại hình nghệ thuật" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 2 (60 câu)
        const grade9Unit2Questions = [
            { id: 1, word: "city life", correct: "(n) cuộc sống thành thị", wrong1: "(n) dịch vụ chăm sóc sức khỏe", wrong2: "(n) quán ăn tự phục vụ", wrong3: "(n) làn đường dành cho xe bus" },
            { id: 2, word: "pick sb up", correct: "(phr.v) đón", wrong1: "(n) đồ ăn đường phố", wrong2: "(v) biến/ chuyển hoá cái gì thành cái gì", wrong3: "(n) phương tiện giao thông" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 3 (60 câu)
        const grade9Unit3Questions = [
            { id: 1, word: "healthy living", correct: "(n) lối sống lành mạnh", wrong1: "(v) giao tiếp", wrong2: "(n) sự lo âu", wrong3: "(n) thành phần" },
            { id: 2, word: "physical health", correct: "(n) sức khỏe thể chất", wrong1: "(v) nghỉ ngơi", wrong2: "(adj) thêm, bổ sung", wrong3: "(v) tán dương, khen thưởng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 4 (60 câu)
        const grade9Unit4Questions = [
            { id: 1, word: "remember", correct: "(v) nhớ", wrong1: "(n) tài nguyên quý giá", wrong2: "(n) giấm", wrong3: "(n) lễ hội mùa gặt" },
            { id: 2, word: "a temple complex", correct: "(n) khu phức quần thể đền thờ", wrong1: "(n) đời sống gia đình", wrong2: "(n) tương cà", wrong3: "(v) tổ chức" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 5 (60 câu)
        const grade9Unit5Questions = [
            { id: 1, word: "local speciality", correct: "(n) đặc sản địa phương", wrong1: "(v) tham gia", wrong2: "(n) môi trường", wrong3: "(v) tham dự" },
            { id: 2, word: "ride horses", correct: "(v) cưỡi ngựa", wrong1: "(adj) tiền sử", wrong2: "(adj) nghiêm khắc", wrong3: "(n) quân đội" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 6 (60 câu)
        const grade9Unit6Questions = [
            { id: 1, word: "lifestyle", correct: "(n) phong cách sống, lối sống", wrong1: "(n) sự khác biệt", wrong2: "(v) cung cấp", wrong3: "(n) thói quen ăn uống" },
            { id: 2, word: "different (from)", correct: "(adj) khác biệt (so với)", wrong1: "(n) sự trưng bày, triển lãm", wrong2: "(v) cho phép", wrong3: "(n) phong cách học" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 7 (60 câu)
        const grade9Unit7Questions = [
            { id: 1, word: "natural wonder", correct: "(n) kỳ quan thiên nhiên", wrong1: "(n) thực vật", wrong2: "(v) cân nhắc", wrong3: "(n) bão tuyết" },
            { id: 2, word: "explore", correct: "(v) khám phá", wrong1: "(n) động vật", wrong2: "(n) đỉnh", wrong3: "(n) bể cá" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 8 (60 câu)
        const grade9Unit8Questions = [
            { id: 1, word: "tourism", correct: "(n) du lịch", wrong1: "(v) chứng kiến", wrong2: "(n) địa điểm lịch sử", wrong3: "(n) điều kiện, tình trạng" },
            { id: 2, word: "sports tourism", correct: "(n) du lịch thể thao", wrong1: "(adj) trung tâm", wrong2: "(v) có đủ khả năng (tài chính)", wrong3: "(n) tài liệu tham khảo" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 9 (56 câu)
        const grade9Unit9Questions = [
            { id: 1, word: "introduce", correct: "(v) giới thiệu", wrong1: "(v) cải thiện", wrong2: "(v) khen ngợi", wrong3: "(n) sự rõ ràng" },
            { id: 2, word: "come from", correct: "(v) đến từ", wrong1: "(n) sự phát triển", wrong2: "(n) nhà ngôn ngữ học", wrong3: "(n) sự giáo dục" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 10 (60 câu)
        const grade9Unit10Questions = [
            { id: 1, word: "Venus", correct: "(n) sao Kim", wrong1: "(phr.v) cứu (khỏi)", wrong2: "(adj) quan trọng", wrong3: "(n) Mẹ Trái Đất" },
            { id: 2, word: "Mercury", correct: "(n) sao Thủy", wrong1: "(n) tác động", wrong2: "(n) gia súc", wrong3: "(adj) tuyệt đẹp" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 11 (60 câu)
        const grade9Unit11Questions = [
            { id: 1, word: "electronic device", correct: "(n) thiết bị điện tử", wrong1: "(v) ngăn ngừa", wrong2: "(n) phong cách", wrong3: "(adj) thuộc về y tế" },
            { id: 2, word: "aluminium", correct: "(n) nhôm", wrong1: "(n) công nghệ", wrong2: "(n) chân dung", wrong3: "(phr.v) phá vỡ" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 12 (60 câu)
        const grade9Unit12Questions = [
            { id: 1, word: "career choice", correct: "(n) lựa chọn nghề nghiệp", wrong1: "(n) tiệm làm tóc", wrong2: "(adv) một cách nghiêm túc", wrong3: "(adj) hợp lý" },
            { id: 2, word: "bartender", correct: "(n) người pha chế", wrong1: "(n) truyền thống gia đình", wrong2: "(n) công nhân", wrong3: "(n) nhà toán học" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 1 E10
        const grade10Unit1Questions = [
            { id: 1, word: "achievement", correct: "(n): thành tựu", wrong1: "(n): thất bại", wrong2: "(v): đạt được", wrong3: "(adj): quan trọng" },
            { id: 2, word: "knowledge", correct: "(n): kiến thức", wrong1: "(n): kinh nghiệm", wrong2: "(v): học hỏi", wrong3: "(adj): sâu rộng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 2 E10
        const grade10Unit2Questions = [
            { id: 1, word: "opportunity", correct: "(n): cơ hội", wrong1: "(n): thách thức", wrong2: "(v): nắm bắt", wrong3: "(adj): hiếm có" },
            { id: 2, word: "challenge", correct: "(n): thách thức", wrong1: "(n): cơ hội", wrong2: "(v): đối mặt", wrong3: "(adj): khó khăn" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 3 E10
        const grade10Unit3Questions = [
            { id: 1, word: "environment", correct: "(n): môi trường", wrong1: "(n): thiên nhiên", wrong2: "(v): bảo vệ", wrong3: "(adj): trong lành" },
            { id: 2, word: "pollution", correct: "(n): ô nhiễm", wrong1: "(n): sự sạch sẽ", wrong2: "(v): gây ra", wrong3: "(adj): nguy hiểm" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 4 E10
        const grade10Unit4Questions = [
            { id: 1, word: "technology", correct: "(n): công nghệ", wrong1: "(n): khoa học", wrong2: "(v): phát triển", wrong3: "(adj): hiện đại" },
            { id: 2, word: "innovation", correct: "(n): sự đổi mới", wrong1: "(n): truyền thống", wrong2: "(v): tạo ra", wrong3: "(adj): sáng tạo" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 5 E10
        const grade10Unit5Questions = [
            { id: 1, word: "economy", correct: "(n): kinh tế", wrong1: "(n): chính trị", wrong2: "(v): phát triển", wrong3: "(adj): ổn định" },
            { id: 2, word: "finance", correct: "(n): tài chính", wrong1: "(n): ngân hàng", wrong2: "(v): quản lý", wrong3: "(adj): vững mạnh" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 6 E10
        const grade10Unit6Questions = [
            { id: 1, word: "culture", correct: "(n): văn hóa", wrong1: "(n): lịch sử", wrong2: "(v): gìn giữ", wrong3: "(adj): đa dạng" },
            { id: 2, word: "tradition", correct: "(n): truyền thống", wrong1: "(n): hiện đại", wrong2: "(v): kế thừa", wrong3: "(adj): lâu đời" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 7 E10
        const grade10Unit7Questions = [
            { id: 1, word: "education", correct: "(n): giáo dục", wrong1: "(n): đào tạo", wrong2: "(v): cung cấp", wrong3: "(adj): chất lượng" },
            { id: 2, word: "curriculum", correct: "(n): chương trình giảng dạy", wrong1: "(n): trường học", wrong2: "(v): thiết kế", wrong3: "(adj): toàn diện" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 8 E10
        const grade10Unit8Questions = [
            { id: 1, word: "healthcare", correct: "(n): chăm sóc sức khỏe", wrong1: "(n): bệnh viện", wrong2: "(v): cung cấp", wrong3: "(adj): tốt" },
            { id: 2, word: "treatment", correct: "(n): điều trị", wrong1: "(n): phòng ngừa", wrong2: "(v): thực hiện", wrong3: "(adj): hiệu quả" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 9 E10
        const grade10Unit9Questions = [
            { id: 1, word: "government", correct: "(n): chính phủ", wrong1: "(n): nhà nước", wrong2: "(v): quản lý", wrong3: "(adj): hiệu quả" },
            { id: 2, word: "policy", correct: "(n): chính sách", wrong1: "(n): luật pháp", wrong2: "(v): thực thi", wrong3: "(adj): quan trọng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 10 E10
        const grade10Unit10Questions = [
            { id: 1, word: "communication", correct: "(n): giao tiếp", wrong1: "(n): ngôn ngữ", wrong2: "(v): trao đổi", wrong3: "(adj): hiệu quả" },
            { id: 2, word: "information", correct: "(n): thông tin", wrong1: "(n): dữ liệu", wrong2: "(v): cung cấp", wrong3: "(adj): chính xác" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 11 E10
        const grade10Unit11Questions = [
            { id: 1, word: "globalization", correct: "(n): toàn cầu hóa", wrong1: "(n): hội nhập", wrong2: "(v): thúc đẩy", wrong3: "(adj): mạnh mẽ" },
            { id: 2, word: "international", correct: "(adj): quốc tế", wrong1: "(adj): địa phương", wrong2: "(v): hợp tác", wrong3: "(n): quan hệ" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 12 E10
        const grade10Unit12Questions = [
            { id: 1, word: "sustainability", correct: "(n): sự bền vững", wrong1: "(n): phát triển", wrong2: "(v): đảm bảo", wrong3: "(adj): lâu dài" },
            { id: 2, word: "renewable", correct: "(adj): có thể tái tạo", wrong1: "(adj): cạn kiệt", wrong2: "(v): sử dụng", wrong3: "(n): năng lượng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 13 E10
        const grade10Unit13Questions = [
            { id: 1, word: "entrepreneur", correct: "(n): doanh nhân", wrong1: "(n): nhân viên", wrong2: "(v): khởi nghiệp", wrong3: "(adj): thành công" },
            { id: 2, word: "investment", correct: "(n): đầu tư", wrong1: "(n): lợi nhuận", wrong2: "(v): thực hiện", wrong3: "(adj): chiến lược" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 14 E10
        const grade10Unit14Questions = [
            { id: 1, word: "research", correct: "(n): nghiên cứu", wrong1: "(n): thực nghiệm", wrong2: "(v): tiến hành", wrong3: "(adj): khoa học" },
            { id: 2, word: "discovery", correct: "(n): khám phá", wrong1: "(n): phát minh", wrong2: "(v): thực hiện", wrong3: "(adj): quan trọng" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 15 E10
        const grade10Unit15Questions = [
            { id: 1, word: "psychology", correct: "(n): tâm lý học", wrong1: "(n): hành vi", wrong2: "(v): nghiên cứu", wrong3: "(adj): phức tạp" },
            { id: 2, word: "behavior", correct: "(n): hành vi", wrong1: "(n): tính cách", wrong2: "(v): quan sát", wrong3: "(adj): xã hội" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 16 E10
        const grade10Unit16Questions = [
            { id: 1, word: "philosophy", correct: "(n): triết học", wrong1: "(n): tư tưởng", wrong2: "(v): nghiên cứu", wrong3: "(adj): sâu sắc" },
            { id: 2, word: "ethics", correct: "(n): đạo đức học", wrong1: "(n): giá trị", wrong2: "(v): đánh giá", wrong3: "(adj): cá nhân" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 17 E10
        const grade10Unit17Questions = [
            { id: 1, word: "archaeology", correct: "(n): khảo cổ học", wrong1: "(n): lịch sử", wrong2: "(v): khai quật", wrong3: "(adj): cổ xưa" },
            { id: 2, word: "artifact", correct: "(n): hiện vật", wrong1: "(n): di tích", wrong2: "(v): bảo tồn", wrong3: "(adj): quý giá" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 18 E10
        const grade10Unit18Questions = [
            { id: 1, word: "astronomy", correct: "(n): thiên văn học", wrong1: "(n): vũ trụ", wrong2: "(v): quan sát", wrong3: "(adj): rộng lớn" },
            { id: 2, word: "galaxy", correct: "(n): thiên hà", wrong1: "(n): hành tinh", wrong2: "(v): khám phá", wrong3: "(adj): xa xôi" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 19 E10
        const grade10Unit19Questions = [
            { id: 1, word: "anthropology", correct: "(n): nhân học", wrong1: "(n): văn hóa", wrong2: "(v): nghiên cứu", wrong3: "(adj): đa dạng" },
            { id: 2, word: "society", correct: "(n): xã hội", wrong1: "(n): cộng đồng", wrong2: "(v): tổ chức", wrong3: "(adj): phức tạp" },
        ];

        // Dữ liệu câu hỏi từ file Excel Unit 20 E10
        const grade10Unit20Questions = [
            { id: 1, word: "linguistics", correct: "(n): ngôn ngữ học", wrong1: "(n): giao tiếp", wrong2: "(v): phân tích", wrong3: "(adj): học thuật" },
            { id: 2, word: "vocabulary", correct: "(n): từ vựng", wrong1: "(n): ngữ pháp", wrong2: "(v): học", wrong3: "(adj): phong phú" },
        ];

        // Tổng hợp dữ liệu theo lớp
        const gradeData = {
            "E4": {
                units: {
                    "UNIT 1": grade4Unit1Questions,
                    "UNIT 2": grade4Unit2Questions,
                    "UNIT 3": grade4Unit3Questions,
                    "UNIT 4": grade4Unit4Questions,
                    "UNIT 5": grade4Unit5Questions,
                    "UNIT 6": grade4Unit6Questions,
                    "UNIT 7": grade4Unit7Questions,
                    "UNIT 8": grade4Unit8Questions,
                    "UNIT 9": grade4Unit9Questions,
                    "UNIT 10": grade4Unit10Questions,
                    "UNIT 11": grade4Unit11Questions,
                    "UNIT 12": grade4Unit12Questions,
                    "UNIT 13": grade4Unit13Questions,
                    "UNIT 14": grade4Unit14Questions,
                    "UNIT 15": grade4Unit15Questions,
                    "UNIT 16": grade4Unit16Questions,
                    "UNIT 17": grade4Unit17Questions,
                    "UNIT 18": grade4Unit18Questions,
                    "UNIT 19": grade4Unit19Questions,
                    "UNIT 20": grade4Unit20Questions
                }
            },
            "E5": {
                units: {
                    "UNIT 1": grade5Unit1Questions,
                    "UNIT 2": grade5Unit2Questions,
                    "UNIT 3": grade5Unit3Questions,
                    "UNIT 4": grade5Unit4Questions,
                    "UNIT 5": grade5Unit5Questions,
                    "UNIT 6": grade5Unit6Questions,
                    "UNIT 7": grade5Unit7Questions,
                    "UNIT 8": grade5Unit8Questions,
                    "UNIT 9": grade5Unit9Questions,
                    "UNIT 10": grade5Unit10Questions,
                    "UNIT 11": grade5Unit11Questions,
                    "UNIT 12": grade5Unit12Questions,
                    "UNIT 13": grade5Unit13Questions,
                    "UNIT 14": grade5Unit14Questions,
                    "UNIT 15": grade5Unit15Questions,
                    "UNIT 16": grade5Unit16Questions,
                    "UNIT 17": grade5Unit17Questions,
                    "UNIT 18": grade5Unit18Questions,
                    "UNIT 19": grade5Unit19Questions,
                    "UNIT 20": grade5Unit20Questions
                }
            },
            "E6": {
                units: {
                    "UNIT 1": grade6Unit1Questions,
                    "UNIT 2": grade6Unit2Questions,
                    "UNIT 3": grade6Unit3Questions,
                    "UNIT 4": grade6Unit4Questions,
                    "UNIT 5": grade6Unit5Questions,
                    "UNIT 6": grade6Unit6Questions,
                    "UNIT 7": grade6Unit7Questions,
                    "UNIT 8": grade6Unit8Questions,
                    "UNIT 9": grade6Unit9Questions,
                    "UNIT 10": grade6Unit10Questions,
                    "UNIT 11": grade6Unit11Questions,
                    "UNIT 12": grade6Unit12Questions
                }
            },
            "E7": {
                units: {
                    "UNIT 1": grade7Unit1Questions,
                    "UNIT 2": grade7Unit2Questions,
                    "UNIT 3": grade7Unit3Questions,
                    "UNIT 4": grade7Unit4Questions,
                    "UNIT 5": grade7Unit5Questions,
                    "UNIT 6": grade7Unit6Questions,
                    "UNIT 7": grade7Unit7Questions,
                    "UNIT 8": grade7Unit8Questions,
                    "UNIT 9": grade7Unit9Questions,
                    "UNIT 10": grade7Unit10Questions,
                    "UNIT 11": grade7Unit11Questions,
                    "UNIT 12": grade7Unit12Questions
                }
            },
            "E8": {
                units: {
                    "UNIT 1": grade8Unit1Questions,
                    "UNIT 2": grade8Unit2Questions,
                    "UNIT 3": grade8Unit3Questions,
                    "UNIT 4": grade8Unit4Questions,
                    "UNIT 5": grade8Unit5Questions,
                    "UNIT 6": grade8Unit6Questions,
                    "UNIT 7": grade8Unit7Questions,
                    "UNIT 8": grade8Unit8Questions,
                    "UNIT 9": grade8Unit9Questions,
                    "UNIT 10": grade8Unit10Questions,
                    "UNIT 11": grade8Unit11Questions,
                    "UNIT 12": grade8Unit12Questions
                }
            },
            "E9": {
                units: {
                    "UNIT 1": grade9Unit1Questions,
                    "UNIT 2": grade9Unit2Questions,
                    "UNIT 3": grade9Unit3Questions,
                    "UNIT 4": grade9Unit4Questions,
                    "UNIT 5": grade9Unit5Questions,
                    "UNIT 6": grade9Unit6Questions,
                    "UNIT 7": grade9Unit7Questions,
                    "UNIT 8": grade9Unit8Questions,
                    "UNIT 9": grade9Unit9Questions,
                    "UNIT 10": grade9Unit10Questions,
                    "UNIT 11": grade9Unit11Questions,
                    "UNIT 12": grade9Unit12Questions
                }
            },
            "E10": {
                units: {
                    "UNIT 1": grade10Unit1Questions,
                    "UNIT 2": grade10Unit2Questions,
                    "UNIT 3": grade10Unit3Questions,
                    "UNIT 4": grade10Unit4Questions,
                    "UNIT 5": grade10Unit5Questions,
                    "UNIT 6": grade10Unit6Questions,
                    "UNIT 7": grade10Unit7Questions,
                    "UNIT 8": grade10Unit8Questions,
                    "UNIT 9": grade10Unit9Questions,
                    "UNIT 10": grade10Unit10Questions,
                    "UNIT 11": grade10Unit11Questions,
                    "UNIT 12": grade10Unit12Questions,
                    "UNIT 13": grade10Unit13Questions,
                    "UNIT 14": grade10Unit14Questions,
                    "UNIT 15": grade10Unit15Questions,
                    "UNIT 16": grade10Unit16Questions,
                    "UNIT 17": grade10Unit17Questions,
                    "UNIT 18": grade10Unit18Questions,
                    "UNIT 19": grade10Unit19Questions,
                    "UNIT 20": grade10Unit20Questions
                }
            }
        };

        // Cấu hình các nút kiểm tra theo phạm vi
        const rangeButtonsConfig = {
            // Cho E4, E5, E10 (20 units)
            "FULL": [
                { label: "TEST U1-U5", start: 1, end: 5, class: "range-1" },
                { label: "TEST U6-U10", start: 6, end: 10, class: "range-2" },
                { label: "TEST U1-U10", start: 1, end: 10, class: "range-3" },
                { label: "TEST U11-U15", start: 11, end: 15, class: "range-4" },
                { label: "TEST U16-U20", start: 16, end: 20, class: "range-5" },
                { label: "TEST U11-U20", start: 11, end: 20, class: "range-6" }
            ],
            // Cho E6, E7, E8, E9 (12 units)
            "HALF": [
                { label: "TEST U1-U3", start: 1, end: 3, class: "range-1" },
                { label: "TEST U4-U6", start: 4, end: 6, class: "range-2" },
                { label: "TEST U1-U6", start: 1, end: 6, class: "range-3" },
                { label: "TEST U7-U9", start: 7, end: 9, class: "range-4" },
                { label: "TEST U10-U12", start: 10, end: 12, class: "range-5" },
                { label: "TEST U7-U12", start: 7, end: 12, class: "range-6" }
            ]
        };

        // Biến toàn cục
        let currentQuestionIndex = 0;
        let score = 0;
        let streak = 0;
        let maxStreak = 0;
        let timer;
        let timeLeft;
        let totalTime = 0;
        let questionTimes = [];
        let selectedQuestions = [];
        let username = "";
        let wrongQuestions = [];
        let answerHistory = [];
        let selectedOptions = [];
        let startTime;
        let endTime;
        let currentWord = "";
        let questionCount = 30;
        let currentUnit = "UNIT 1";
        let currentGrade = "";
        
        // Biến cho chức năng ôn bài tự động
        let autoReviewIndex = 0;
        let autoReviewTimer;
        let autoReviewQuestions = [];
        let autoReviewSpeakTimer1;
        let autoReviewSpeakTimer2;
        
        // Biến cho chức năng kiểm tra tổng hợp
        let comprehensivePool = [];
        let isComprehensiveTest = false;
        
        // DOM elements
        const gradeSelection = document.getElementById('grade-selection');
        const mainMenu = document.getElementById('main-menu');
        const contactBtn = document.getElementById('contact-btn');
        const contactScreen = document.getElementById('contact-screen');
        const backFromContactBtn = document.getElementById('back-from-contact-btn');
        const reviewMenu = document.getElementById('review-menu');
        const vocabularyList = document.getElementById('vocabulary-list');
        const loginScreen = document.getElementById('login-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const autoReviewScreen = document.getElementById('auto-review-screen');
        const rangeButtonsContainer = document.getElementById('range-buttons-container');
        
        const grade4Btn = document.getElementById('grade4-btn');
        const grade5Btn = document.getElementById('grade5-btn');
        const grade6Btn = document.getElementById('grade6-btn');
        const grade7Btn = document.getElementById('grade7-btn');
        const grade8Btn = document.getElementById('grade8-btn');
        const grade9Btn = document.getElementById('grade9-btn');
        const grade10Btn = document.getElementById('grade10-btn');
        
        const reviewBtn = document.getElementById('review-btn');
        const practiceBtn = document.getElementById('practice-btn');
        const showVocabularyBtn = document.getElementById('show-vocabulary-btn');
        const autoReviewBtn = document.getElementById('auto-review-btn');
        const backToMainBtn = document.getElementById('back-to-main-btn');
        const backToReviewBtn = document.getElementById('back-to-review-btn');
        const backToMainFromLoginBtn = document.getElementById('back-to-main-from-login-btn');
        const backToGradeBtn = document.getElementById('back-to-grade-btn');
        const backToGradeFromResultBtn = document.getElementById('back-to-grade-from-result-btn');
        
        const startBtn = document.getElementById('start-btn');
        const comprehensiveTestBtn = document.getElementById('comprehensive-test-btn');
        const usernameInput = document.getElementById('username');
        const questionCountSelect = document.getElementById('question-count');
        const unitSelect = document.getElementById('unit-select');
        const reviewUnitSelect = document.getElementById('review-unit-select');
        const wordElement = document.getElementById('word');
        const optionsElement = document.getElementById('options');
        const timerBar = document.getElementById('timer-bar');
        const streakElement = document.getElementById('streak');
        const questionCounterElement = document.getElementById('question-counter');
        const restartBtn = document.getElementById('restart-btn');
        const newGameBtn = document.getElementById('new-game-btn');
        const wrongQuestionsElement = document.getElementById('wrong-questions');
        const answerHistoryBody = document.getElementById('answer-history-body');
        const resultStartTimeElement = document.getElementById('res-start-time');
        const resultEndTimeElement = document.getElementById('res-end-time');
        const speakerBtn = document.getElementById('speaker-btn');
        const unitTitleElement = document.getElementById('unit-title');
        const resultUnitTitleElement = document.getElementById('result-unit-title');
        const loadingContainer = document.getElementById('loading-container');
        const loadingBar = document.getElementById('loading-bar');
        const resultProgressBar = document.getElementById('result-progress-bar');
        const resultCorrectCount = document.getElementById('result-correct-count');
        const resultTotalCount = document.getElementById('result-total-count');
        const vocabularyTableBody = document.getElementById('vocabulary-table-body');
        const vocabularyUnitTitle = document.getElementById('vocabulary-unit-title');
        const gradeHeader = document.getElementById('grade-header');
        const reviewGradeHeader = document.getElementById('review-grade-header');
        const vocabGradeHeader = document.getElementById('vocab-grade-header');
        const loginGradeHeader = document.getElementById('login-grade-header');
        const quizGradeHeader = document.getElementById('quiz-grade-header');
        const resultGradeHeader = document.getElementById('result-grade-header');
        const autoReviewGradeHeader = document.getElementById('auto-review-grade-header');
        const quizUnitTitle = document.getElementById('quiz-unit-title');
        const reviewUnitTitle = document.getElementById('review-unit-title');
        const loginUnitTitle = document.getElementById('login-unit-title');
        const autoReviewUnitTitle = document.getElementById('auto-review-unit-title');
        
        // Các phần tử mới cho ôn bài tự động
        const autoReviewWord = document.getElementById('auto-review-word');
        const autoReviewMeaning = document.getElementById('auto-review-meaning');
        const autoReviewSpeakerBtn = document.getElementById('auto-review-speaker-btn');
        const autoReviewEndButtons = document.getElementById('auto-review-end-buttons');
        const autoReviewAgainBtn = document.getElementById('auto-review-again-btn');
        const autoReviewBackBtn = document.getElementById('auto-review-back-btn');
        
        // Thông báo chống gian lận
        const antiCheatNotice = document.getElementById('anti-cheat-notice');

        // Xử lý sự kiện chọn lớp
        grade4Btn.addEventListener('click', () => selectGrade('E4'));
        grade5Btn.addEventListener('click', () => selectGrade('E5'));
        grade6Btn.addEventListener('click', () => selectGrade('E6'));
        grade7Btn.addEventListener('click', () => selectGrade('E7'));
        grade8Btn.addEventListener('click', () => selectGrade('E8'));
        grade9Btn.addEventListener('click', () => selectGrade('E9'));
        grade10Btn.addEventListener('click', () => selectGrade('E10'));

        // Xử lý sự kiện cho chức năng liên hệ
        contactBtn.addEventListener('click', showContactScreen);
        backFromContactBtn.addEventListener('click', backToGradeSelection);

        // Hàm hiển thị màn hình liên hệ
        function showContactScreen() {
            gradeSelection.classList.add('hidden');
            contactScreen.classList.remove('hidden');
        }

        function selectGrade(grade) {
            currentGrade = grade;
            gradeSelection.classList.add('hidden');
            mainMenu.classList.remove('hidden');
            
            // Cập nhật tiêu đề
            gradeHeader.textContent = `ÔN TẬP GS VOCA ${grade}`;
            reviewGradeHeader.textContent = `ÔN TẬP GS VOCA ${grade}`;
            vocabGradeHeader.textContent = `ÔN TẬP GS VOCA ${grade}`;
            loginGradeHeader.textContent = `ÔN TẬP GS VOCA ${grade}`;
            quizGradeHeader.textContent = `ÔN TẬP GS VOCA ${grade}`;
            resultGradeHeader.textContent = `ÔN TẬP GS VOCA ${grade}`;
            autoReviewGradeHeader.textContent = `ÔN TẬP GS VOCA ${grade}`;
            
            // Cập nhật danh sách unit dựa trên lớp được chọn
            updateUnitOptions();
        }

        // Cập nhật danh sách unit cho dropdown
        function updateUnitOptions() {
            // Xóa các option cũ
            unitSelect.innerHTML = '';
            reviewUnitSelect.innerHTML = '';
            
            // Lấy số lượng unit của lớp hiện tại
            const gradeUnits = gradeData[currentGrade].units;
            const unitCount = Object.keys(gradeUnits).length;
            
            // Thêm các option mới
            for (let i = 1; i <= unitCount; i++) {
                const unitName = `UNIT ${i}`;
                
                // Thêm vào dropdown unit-select
                const option1 = document.createElement('option');
                option1.value = unitName;
                option1.textContent = unitName;
                unitSelect.appendChild(option1);
                
                // Thêm vào dropdown review-unit-select
                const option2 = document.createElement('option');
                option2.value = unitName;
                option2.textContent = unitName;
                reviewUnitSelect.appendChild(option2);
            }
            
            // Đặt unit mặc định là UNIT 1
            currentUnit = "UNIT 1";
            quizUnitTitle.textContent = currentUnit;
            
            // Cập nhật số lượng câu hỏi tối đa
            updateQuestionCountOptions();
            
            // Render lại các nút phạm vi nếu cần (trong trường hợp quay lại từ login)
            renderRangeButtons();
        }

        // Render các nút kiểm tra theo phạm vi
        function renderRangeButtons() {
            // Xóa nội dung cũ
            rangeButtonsContainer.innerHTML = '';
            
            // Xác định loại config (FULL cho 20 units, HALF cho 12 units)
            const unitCount = Object.keys(gradeData[currentGrade].units).length;
            const configKey = unitCount > 15 ? "FULL" : "HALF";
            const buttons = rangeButtonsConfig[configKey];
            
            if (buttons && buttons.length > 0) {
                rangeButtonsContainer.style.display = 'grid';
                
                buttons.forEach(btn => {
                    const button = document.createElement('button');
                    button.textContent = btn.label;
                    button.className = `range-btn ${btn.class}`;
                    button.onclick = () => startRangeQuiz(btn.start, btn.end, btn.label);
                    rangeButtonsContainer.appendChild(button);
                });
            } else {
                rangeButtonsContainer.style.display = 'none';
            }
        }

        // Xử lý sự kiện
        reviewBtn.addEventListener('click', () => {
            mainMenu.classList.add('hidden');
            reviewMenu.classList.remove('hidden');
            reviewUnitTitle.textContent = "Chọn đề bài ôn tập";
        });

        practiceBtn.addEventListener('click', () => {
            mainMenu.classList.add('hidden');
            loginScreen.classList.remove('hidden');
            loginUnitTitle.textContent = "Chọn đề bài làm bài";
            renderRangeButtons(); // Hiển thị các nút phạm vi khi vào màn hình login
        });

        showVocabularyBtn.addEventListener('click', showVocabularyList);
        autoReviewBtn.addEventListener('click', startAutoReview);
        backToMainBtn.addEventListener('click', backToFirstScreen);
        backToReviewBtn.addEventListener('click', backToReviewMenu);
        backToMainFromLoginBtn.addEventListener('click', backToFirstScreen);
        backToGradeBtn.addEventListener('click', backToGradeSelection);
        backToGradeFromResultBtn.addEventListener('click', backToGradeSelection);

        startBtn.addEventListener('click', startGame);
        comprehensiveTestBtn.addEventListener('click', startComprehensiveTest);
        restartBtn.addEventListener('click', restartGame);
        newGameBtn.addEventListener('click', newGame);
        speakerBtn.addEventListener('click', () => {
            speakerBtn.classList.add('active');
            setTimeout(() => {
                speakerBtn.classList.remove('active');
            }, 200);
            speak(currentWord);
        });

        autoReviewSpeakerBtn.addEventListener('click', () => {
            autoReviewSpeakerBtn.classList.add('active');
            setTimeout(() => {
                autoReviewSpeakerBtn.classList.remove('active');
            }, 200);
            speak(autoReviewQuestions[autoReviewIndex].word);
        });
        
        autoReviewAgainBtn.addEventListener('click', restartAutoReview);
        autoReviewBackBtn.addEventListener('click', backToReviewMenu);
        
        unitSelect.addEventListener('change', function() {
            currentUnit = this.value;
            quizUnitTitle.textContent = currentUnit;
            updateQuestionCountOptions();
            resetComprehensiveTestState();
        });

        reviewUnitSelect.addEventListener('change', function() {
            currentUnit = this.value;
        });

        // Hiển thị danh sách từ vựng
        function showVocabularyList() {
            const questionBank = getQuestionBank();
            
            if (questionBank.length === 0) {
                alert("Chưa có dữ liệu cho unit này!");
                return;
            }
            
            reviewMenu.classList.add('hidden');
            vocabularyList.classList.remove('hidden');
            vocabularyUnitTitle.textContent = currentUnit;
            
            // Xóa nội dung cũ
            vocabularyTableBody.innerHTML = '';
            
            // Thêm từ vựng vào bảng
            questionBank.forEach((question, index) => {
                const row = document.createElement('tr');
                
                // STT
                const idCell = document.createElement('td');
                idCell.textContent = index + 1;
                row.appendChild(idCell);
                
                // Từ vựng với biểu tượng loa
                const wordCell = document.createElement('td');
                const wordContainer = document.createElement('div');
                wordContainer.className = 'vocabulary-word';
                
                const wordSpan = document.createElement('span');
                wordSpan.textContent = question.word;
                
                const speakerBtn = document.createElement('button');
                speakerBtn.className = 'vocabulary-speaker-btn';
                speakerBtn.title = 'Nghe phát âm';
                speakerBtn.innerHTML = `
                    <svg class="vocabulary-speaker-icon" viewBox="0 0 24 24">
                        <path d="M3,9v6h4l5,5V4L7,9H3z M16.5,12c0-1.77-1.02-3.29-2.5-4.03v8.05C15.48,15.29,16.5,13.77,16.5,12z M14,3.23v2.06c2.89,.86,5,3.54,5,6.71s-2.11,5.85-5,6.71v2.06c4.01-.91,7-4.49,7-8.77S18.01,4.14,14,3.23z"/>
                    </svg>
                `;
                speakerBtn.addEventListener('click', () => speak(question.word));
                
                wordContainer.appendChild(wordSpan);
                wordContainer.appendChild(speakerBtn);
                wordCell.appendChild(wordContainer);
                row.appendChild(wordCell);
                
                // Nghĩa của từ
                const meaningCell = document.createElement('td');
                meaningCell.textContent = question.correct;
                row.appendChild(meaningCell);
                
                vocabularyTableBody.appendChild(row);
            });
        }

        // Bắt đầu ôn bài tự động
        function startAutoReview() {
            autoReviewQuestions = getQuestionBank();
            
            if (autoReviewQuestions.length === 0) {
                alert("Chưa có dữ liệu cho unit này!");
                return;
            }
            
            reviewMenu.classList.add('hidden');
            autoReviewScreen.classList.remove('hidden');
            autoReviewUnitTitle.textContent = currentUnit;
            
            autoReviewIndex = 0;
            autoReviewEndButtons.classList.add('hidden');
            showAutoReviewQuestion();
        }

        // Hiển thị câu hỏi ôn bài tự động
        function showAutoReviewQuestion() {
            if (autoReviewIndex >= autoReviewQuestions.length) {
                endAutoReview();
                return;
            }
            
            const question = autoReviewQuestions[autoReviewIndex];
            autoReviewWord.textContent = question.word;
            autoReviewMeaning.textContent = question.correct;
            
            // Reset màu sắc từ vựng
            autoReviewWord.classList.remove('black');
            
            // Phát âm lần 1 sau 0.4s
            clearTimeout(autoReviewSpeakTimer1);
            clearTimeout(autoReviewSpeakTimer2);
            
            autoReviewSpeakTimer1 = setTimeout(() => {
                speak(question.word);
            }, 400);
            
            // Phát âm lần 2 sau 2.4s
            autoReviewSpeakTimer2 = setTimeout(() => {
                speak(question.word);
            }, 2400);
            
            // Sau 2.5 giây thì chuyển màu chữ sang đen in đậm
            setTimeout(() => {
                autoReviewWord.classList.add('black');
            }, 2500);
            
            // Tự động chuyển câu sau 4 giây
            autoReviewTimer = setTimeout(() => {
                autoReviewIndex++;
                showAutoReviewQuestion();
            }, 4000);
        }

        // Kết thúc ôn bài tự động
        function endAutoReview() {
            clearTimeout(autoReviewTimer);
            clearTimeout(autoReviewSpeakTimer1);
            clearTimeout(autoReviewSpeakTimer2);
            autoReviewEndButtons.classList.remove('hidden');
            
            autoReviewWord.textContent = "Hoàn thành!";
            autoReviewMeaning.textContent = `Đã ôn ${autoReviewQuestions.length} từ vựng`;
        }

        // Ôn lại tự động
        function restartAutoReview() {
            // Hủy bỏ các timer phát âm đang chạy
            clearTimeout(autoReviewTimer);
            clearTimeout(autoReviewSpeakTimer1);
            clearTimeout(autoReviewSpeakTimer2);
            autoReviewEndButtons.classList.remove('hidden');
            
            speechSynthesis.cancel();
            
            autoReviewIndex = 0;
            autoReviewEndButtons.classList.add('hidden');
            showAutoReviewQuestion();
        }

        // Quay lại giao diện đầu tiên
        function backToFirstScreen() {
            clearTimeout(autoReviewTimer);
            clearTimeout(autoReviewSpeakTimer1);
            clearTimeout(autoReviewSpeakTimer2);
            autoReviewEndButtons.classList.remove('hidden');
            
            loginScreen.classList.add('hidden');
            reviewMenu.classList.add('hidden');
            vocabularyList.classList.add('hidden');
            autoReviewScreen.classList.add('hidden');
            quizScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            
            mainMenu.classList.remove('hidden');
            unitTitleElement.textContent = "Chọn chế độ";
            resetComprehensiveTestState();
        }

        // Quay lại màn hình chọn lớp
        function backToGradeSelection() {
            contactScreen.classList.add('hidden');
            mainMenu.classList.add('hidden');
            reviewMenu.classList.add('hidden');
            vocabularyList.classList.add('hidden');
            autoReviewScreen.classList.add('hidden');
            loginScreen.classList.add('hidden');
            quizScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            
            gradeSelection.classList.remove('hidden');
            resetComprehensiveTestState();
        }

        // Quay lại màn hình ôn bài
        function backToReviewMenu() {
            // Hủy bỏ các timer phát âm đang chạy
            clearTimeout(autoReviewTimer);
            autoReviewEndButtons.classList.remove('hidden');
            
            clearTimeout(autoReviewSpeakTimer1);
            clearTimeout(autoReviewSpeakTimer2);
            speechSynthesis.cancel();
            
            vocabularyList.classList.add('hidden');
            autoReviewScreen.classList.add('hidden');
            reviewMenu.classList.remove('hidden');
        }

        // Cập nhật số lượng câu hỏi tối đa dựa trên unit được chọn
        function updateQuestionCountOptions() {
            const questionBank = getQuestionBank();
            const maxQuestions = questionBank.length;
            
            questionCountSelect.innerHTML = '';
            
            const options = [
                { value: 10, text: "10 câu" },
                { value: 35, text: "35 câu" },
                { value: 40, text: "40 câu" },
                { value: 45, text: "45 câu" },
                { value: 50, text: "50 câu" },
                { value: maxQuestions, text: `${maxQuestions} câu (tất cả)` }
            ];
            
            // Chỉ giữ các option hợp lệ (không vượt quá maxQuestions)
            const validOptions = options.filter(option => option.value <= maxQuestions);
            
            validOptions.forEach(option => {
                const optionElement = document.createElement('option');
                optionElement.value = option.value;
                optionElement.textContent = option.text;
                questionCountSelect.appendChild(optionElement);
            });
        }

        // Lấy dữ liệu câu hỏi theo unit và lớp
        function getQuestionBank() {
            if (!currentGrade || !gradeData[currentGrade] || !gradeData[currentGrade].units[currentUnit]) {
                return [];
            }
            return gradeData[currentGrade].units[currentUnit];
        }

        // Bắt đầu kiểm tra tổng hợp theo phạm vi (Mới)
        function startRangeQuiz(startUnit, endUnit, labelName) {
            username = usernameInput.value.trim();
            if (!username) {
                alert("Vui lòng nhập tên của bạn!");
                return;
            }

            // Tạo kho dữ liệu tổng hợp từ các unit trong phạm vi
            comprehensivePool = [];
            const gradeUnits = gradeData[currentGrade].units;
            
            for (let i = startUnit; i <= endUnit; i++) {
                const unitName = `UNIT ${i}`;
                if (gradeUnits[unitName]) {
                    gradeUnits[unitName].forEach(q => {
                        // Tạo bản sao của câu hỏi và thêm địa chỉ unit
                        const questionCopy = Object.assign({}, q);
                        questionCopy.unitAddress = `${unitName} - Câu ${q.id}`;
                        comprehensivePool.push(questionCopy);
                    });
                }
            }
            
            if (comprehensivePool.length === 0) {
                alert("Chưa có dữ liệu cho phạm vi này!");
                return;
            }
            
            isComprehensiveTest = true;
            // Lấy 40 câu hoặc tất cả nếu ít hơn
            questionCount = Math.min(40, comprehensivePool.length);
            
            // Hiển thị loading
            loadingContainer.classList.remove('hidden');
            startBtn.disabled = true;
            comprehensiveTestBtn.disabled = true;
            
            // Disable range buttons
            const rangeBtns = document.querySelectorAll('.range-btn');
            rangeBtns.forEach(btn => btn.disabled = true);
            
            // Giả lập loading
            let progress = 0;
            const loadingInterval = setInterval(() => {
                progress += 5;
                loadingBar.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(loadingInterval);
                    loadingContainer.classList.add('hidden');
                    startBtn.disabled = false;
                    comprehensiveTestBtn.disabled = false;
                    rangeBtns.forEach(btn => btn.disabled = false);
                    
                    // Set tiêu đề cho bài kiểm tra phạm vi
                    quizUnitTitle.textContent = labelName;
                    resultUnitTitleElement.textContent = labelName;
                    
                    startComprehensiveQuiz();
                }
            }, 50);
        }

        // Bắt đầu kiểm tra tổng hợp (Toàn bộ)
        function startComprehensiveTest() {
            username = usernameInput.value.trim();
            if (!username) {
                alert("Vui lòng nhập tên của bạn!");
                return;
            }
            
            // Tạo kho dữ liệu tổng hợp từ tất cả các unit
            comprehensivePool = [];
            const gradeUnits = gradeData[currentGrade].units;
            
            for (const unitName in gradeUnits) {
                const unitQuestions = gradeUnits[unitName];
                unitQuestions.forEach(q => {
                    // Tạo bản sao của câu hỏi và thêm địa chỉ unit
                    const questionCopy = Object.assign({}, q);
                    questionCopy.unitAddress = `${unitName} - Câu ${q.id}`;
                    comprehensivePool.push(questionCopy);
                });
            }
            
            if (comprehensivePool.length === 0) {
                alert("Chưa có dữ liệu cho lớp này!");
                return;
            }
            
            isComprehensiveTest = true;
            questionCount = Math.min(40, comprehensivePool.length);
            
            // Cập nhật UI
            questionCountSelect.disabled = true;
            questionCountSelect.value = questionCount;
            
            // Hiển thị loading
            loadingContainer.classList.remove('hidden');
            startBtn.disabled = true;
            comprehensiveTestBtn.disabled = true;
            
            // Disable range buttons
            const rangeBtns = document.querySelectorAll('.range-btn');
            rangeBtns.forEach(btn => btn.disabled = true);
            
            // Giả lập loading
            let progress = 0;
            const loadingInterval = setInterval(() => {
                progress += 5;
                loadingBar.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(loadingInterval);
                    loadingContainer.classList.add('hidden');
                    startBtn.disabled = false;
                    comprehensiveTestBtn.disabled = false;
                    rangeBtns.forEach(btn => btn.disabled = false);
                    startComprehensiveQuiz();
                }
            }, 50);
        }

        // Bắt đầu bài kiểm tra tổng hợp
        function startComprehensiveQuiz() {
            // Lưu thời điểm bắt đầu làm bài
            startTime = new Date();
            
            // Chọn ngẫu nhiên số câu hỏi đã chọn
            selectedQuestions = getRandomQuestions(comprehensivePool, questionCount);
            
            // Reset các biến
            currentQuestionIndex = 0;
            score = 0;
            streak = 0;
            maxStreak = 0;
            totalTime = 0;
            questionTimes = [];
            wrongQuestions = [];
            answerHistory = [];
            selectedOptions = Array(selectedQuestions.length).fill(null);
            
            // Nếu chưa set tiêu đề (ví dụ từ nút startRangeQuiz thì đã set rồi)
            if (quizUnitTitle.textContent === currentUnit || quizUnitTitle.textContent.includes("UNIT")) {
                 quizUnitTitle.textContent = "KIỂM TRA TỔNG HỢP";
                 resultUnitTitleElement.textContent = "KIỂM TRA TỔNG HỢP";
            }
            
            // Chuyển màn hình
            loginScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            
            // Hiển thị câu hỏi đầu tiên
            showQuestion();
        }

        // Bắt đầu trò chơi
        function startGame() {
            username = usernameInput.value.trim();
            if (!username) {
                alert("Vui lòng nhập tên của bạn!");
                return;
            }
            
            // Lấy số câu hỏi từ dropdown
            questionCount = parseInt(questionCountSelect.value);
            
            // Chọn dữ liệu câu hỏi dựa trên unit được chọn
            const questionBank = getQuestionBank();
            
            // Kiểm tra số câu hỏi hợp lệ
            if (questionCount < 1 || questionCount > questionBank.length) {
                alert(`Vui lòng chọn số câu hỏi từ 1 đến ${questionBank.length}`);
                return;
            }
            
            // Hiển thị loading
            loadingContainer.classList.remove('hidden');
            startBtn.disabled = true;
            comprehensiveTestBtn.disabled = true;
            
            // Disable range buttons
            const rangeBtns = document.querySelectorAll('.range-btn');
            rangeBtns.forEach(btn => btn.disabled = true);
            
            // Giả lập loading (trong thực tế có thể là tải dữ liệu từ server)
            let progress = 0;
            const loadingInterval = setInterval(() => {
                progress += 5;
                loadingBar.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(loadingInterval);
                    loadingContainer.classList.add('hidden');
                    startBtn.disabled = false;
                    comprehensiveTestBtn.disabled = false;
                    rangeBtns.forEach(btn => btn.disabled = false);
                    startQuiz(questionBank);
                }
            }, 50);
        }

        // Bắt đầu bài quiz sau khi loading
        function startQuiz(questionBank) {
            // Lưu thời điểm bắt đầu làm bài
            startTime = new Date();
            
            // Chọn ngẫu nhiên số câu hỏi đã chọn
            selectedQuestions = getRandomQuestions(questionBank, questionCount);
            
            // Reset các biến
            currentQuestionIndex = 0;
            score = 0;
            streak = 0;
            maxStreak = 0;
            totalTime = 0;
            questionTimes = [];
            wrongQuestions = [];
            answerHistory = [];
            selectedOptions = Array(selectedQuestions.length).fill(null);
            
            // Cập nhật tiêu đề
            quizUnitTitle.textContent = currentUnit;
            resultUnitTitleElement.textContent = currentUnit;
            
            // Chuyển màn hình
            loginScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            
            // Hiển thị câu hỏi đầu tiên
            showQuestion();
        }

        // Chọn ngẫu nhiên n câu hỏi không trùng lặp
        function getRandomQuestions(questionBank, n) {
            // Tạo bản sao của mảng câu hỏi
            const shuffled = questionBank.slice();
            // Trộn ngẫu nhiên
            shuffleArray(shuffled);
            // Lấy n câu đầu tiên
            return shuffled.slice(0, n);
        }

        // Hiển thị câu hỏi
        function showQuestion() {
            if (currentQuestionIndex >= selectedQuestions.length) {
                endGame();
                return;
            }
            
            const question = selectedQuestions[currentQuestionIndex];
            currentWord = question.word;
            wordElement.textContent = question.word;
            
            // Cập nhật số câu hỏi và chuỗi đúng
            questionCounterElement.textContent = `Câu ${currentQuestionIndex + 1}/${selectedQuestions.length}`;
            streakElement.textContent = `Chuỗi đúng: ${streak}`;
            
            // Xóa các lựa chọn cũ
            optionsElement.innerHTML = '';
            
            // Tạo mảng các lựa chọn
            const options = [
                question.correct,
                question.wrong1,
                question.wrong2,
                question.wrong3
            ];
            
            // Trộn các lựa chọn
            shuffleArray(options);
            
            // Tạo các nút lựa chọn
            options.forEach((option, index) => {
                const optionButton = document.createElement('div');
                optionButton.classList.add('option');
                optionButton.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
                optionButton.addEventListener('click', () => selectOption(option, question.correct, question.id, question.word));
                optionsElement.appendChild(optionButton);
            });
            
            // Bắt đầu đếm ngược
            startTimer();
            
            // Phát âm từ sau 0.5s
            setTimeout(() => {
                speak(question.word);
            }, 500);
        }

        // Bắt đầu đếm ngược (8 giây mỗi câu)
        function startTimer() {
            const startTime = Date.now();
            timeLeft = 8; // 8 giây cho mỗi câu hỏi
            timerBar.style.width = '100%';
            timerBar.style.backgroundColor = '#FFD700';
            
            // Xóa timer cũ nếu có
            if (timer) {
                clearInterval(timer);
            }
            
            timer = setInterval(() => {
                timeLeft -= 0.1;
                timerBar.style.width = `${(timeLeft / 8) * 100}%`;
                
                // Đổi màu khi thời gian sắp hết
                if (timeLeft <= 3) {
                    timerBar.style.backgroundColor = '#FF6347';
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    const endTime = Date.now();
                    questionTimes.push(8); // Hết thời gian
                    totalTime += 8;
                    handleAnswer(false, selectedQuestions[currentQuestionIndex].id, selectedQuestions[currentQuestionIndex].word, "Không chọn");
                }
            }, 100);
        }

        // Xử lý khi chọn đáp án
        function selectOption(selectedOption, correctAnswer, questionId, questionWord) {
            const endTime = Date.now();
            clearInterval(timer);
            const isCorrect = selectedOption === correctAnswer;
            const timeTaken = 8 - timeLeft;
            questionTimes.push(timeTaken);
            totalTime += timeTaken;
            
            // Lưu đáp án đã chọn
            selectedOptions[currentQuestionIndex] = selectedOption;
            
            // Hiển thị kết quả
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                if (option.textContent.includes(correctAnswer)) {
                    option.classList.add('correct');
                }
                if (option.textContent.includes(selectedOption) && !isCorrect) {
                    option.classList.add('incorrect');
                }
                option.style.pointerEvents = 'none';
            });
            
            // Xử lý kết quả sau 0.1s
            setTimeout(() => {
                handleAnswer(isCorrect, questionId, questionWord, selectedOption);
            }, 100);
        }

        // Xử lý kết quả
        function handleAnswer(isCorrect, questionId, questionWord, selectedOption) {
            const currentQuestion = selectedQuestions[currentQuestionIndex];
            
            if (isCorrect) {
                score++;
                streak++;
                if (streak > maxStreak) {
                    maxStreak = streak;
                }
            } else {
                streak = 0;
                wrongQuestions.push(questionId);
            }
            
            // Thêm vào lịch sử trả lời
            answerHistory.push({
                id: questionId,
                word: questionWord,
                selected: selectedOption,
                correct: currentQuestion.correct,
                unit: currentUnit,
                unitAddress: currentQuestion.unitAddress || ''
            });
            
            // Chuyển sang câu hỏi tiếp sau 0.4s
            currentQuestionIndex++;
            setTimeout(() => {
                showQuestion();
            }, 400);
        }

        // Kết thúc trò chơi
        function endGame() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
            // Lưu thời điểm kết thúc
            endTime = new Date();
            
            // Tính toán phần trăm
            const percentage = Math.round((score / selectedQuestions.length) * 100);
            
            // --- CẬP NHẬT GIAO DIỆN MỚI ---
            
            // 1. Cập nhật Tên và Ngày tháng
            document.getElementById('res-name').textContent = username;
            
            const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
            document.getElementById('res-date').textContent = endTime.toLocaleDateString('vi-VN', options);
            
            // 2. Cập nhật Biểu đồ tròn và màu sắc
            const chartElement = document.getElementById('res-pie-chart');
            const percentageElement = document.getElementById('res-percentage');
            const scoreDetailElement = document.getElementById('res-score-text');
            
            percentageElement.textContent = percentage + "%";
            scoreDetailElement.textContent = `${score}/${selectedQuestions.length}`;
            
            // Xác định màu sắc
            let chartColor = '#f5222d'; // Mặc định đỏ
            if (percentage === 100) {
                chartColor = '#722ed1'; // Tím
            } else if (percentage >= 90) {
                chartColor = '#1890ff'; // Xanh blue
            } else if (percentage >= 80) {
                chartColor = '#13c2c2'; // Xanh ngọc
            } else if (percentage >= 70) {
                chartColor = '#52c41a'; // Xanh lá
            } else if (percentage >= 50) {
                chartColor = '#faad14'; // Vàng
            }
            
            // Áp dụng màu cho gradient biểu đồ
            chartElement.style.background = `conic-gradient(${chartColor} ${percentage}%, #e0e0e0 ${percentage}%)`;
            percentageElement.style.color = chartColor;

            // 3. Cập nhật các ô thông tin 2x2
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
            
            document.getElementById('res-start-time').textContent = startTime.toLocaleTimeString('vi-VN', timeOptions);
            document.getElementById('res-end-time').textContent = endTime.toLocaleTimeString('vi-VN', timeOptions);
            document.getElementById('res-max-streak').textContent = maxStreak;
            document.getElementById('res-duration').textContent = totalTime.toFixed(1) + 's';

            // --- KẾT THÚC CẬP NHẬT GIAO DIỆN MỚI ---
            
            // Hiển thị các câu làm sai
            wrongQuestionsElement.innerHTML = '';
            if (wrongQuestions.length === 0) {
                wrongQuestionsElement.innerHTML = '<li>Không có câu nào làm sai</li>';
            } else {
                // Sắp xếp theo thứ tự xuất hiện trong bài làm
                const wrongQuestionsInOrder = answerHistory
                    .filter(item => item.selected !== item.correct)
                    .map(item => item.unitAddress || `${item.unit} - Câu ${item.id}`);
                    
                wrongQuestionsInOrder.forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = item;
                    wrongQuestionsElement.appendChild(li);
                });
            }
            
            // Hiển thị lịch sử bài làm (chỉ các câu đã chọn)
            answerHistoryBody.innerHTML = '';
            answerHistory.forEach((item, index) => {
                const row = document.createElement('tr');
                
                const idCell = document.createElement('td');
                idCell.textContent = index + 1;
                row.appendChild(idCell);
                
                // Tạo cell từ vựng với biểu tượng loa
                const wordCell = document.createElement('td');
                const wordContainer = document.createElement('div');
                wordContainer.className = 'word-with-speaker';
                
                const wordSpan = document.createElement('span');
                if (item.unitAddress) {
                    wordSpan.textContent = `[${item.unitAddress}] ${item.word}`;
                } else {
                    wordSpan.textContent = item.word;
                }
                
                const speakerBtn = document.createElement('button');
                speakerBtn.className = 'table-speaker-btn';
                speakerBtn.title = 'Nghe phát âm';
                speakerBtn.innerHTML = `
                    <svg class="table-speaker-icon" viewBox="0 0 24 24">
                        <path d="M3,9v6h4l5,5V4L7,9H3z M16.5,12c0-1.77-1.02-3.29-2.5-4.03v8.05C15.48,15.29,16.5,13.77,16.5,12z M14,3.23v2.06c2.89,.86,5,3.54,5,6.71s-2.11,5.85-5,6.71v2.06c4.01-.91,7-4.49,7-8.77S18.01,4.14,14,3.23z"/>
                    </svg>
                `;
                speakerBtn.addEventListener('click', () => speak(item.word));
                
                wordContainer.appendChild(wordSpan);
                wordContainer.appendChild(speakerBtn);
                wordCell.appendChild(wordContainer);
                row.appendChild(wordCell);
                
                const selectedCell = document.createElement('td');
                selectedCell.textContent = item.selected;
                if (item.selected !== item.correct) {
                    selectedCell.style.color = '#f44336';
                }
                row.appendChild(selectedCell);
                
                const correctCell = document.createElement('td');
                correctCell.textContent = item.correct;
                row.appendChild(correctCell);
                
                answerHistoryBody.appendChild(row);
            });
        }

        // Chơi lại với cùng bộ câu hỏi (chọn ngẫu nhiên mới cùng số lượng câu đã chọn)
        function restartGame() {
            if (isComprehensiveTest && comprehensivePool.length > 0) {
                // Lấy lại 40 câu ngẫu nhiên mới từ kho tổng hợp
                selectedQuestions = getRandomQuestions(comprehensivePool, questionCount);
            } else {
                // Lấy lại questionBank từ unit và grade hiện tại
                const questionBank = getQuestionBank();
                // Chọn ngẫu nhiên số câu hỏi bằng với lần trước
                selectedQuestions = getRandomQuestions(questionBank, selectedQuestions.length);
            }
            
            currentQuestionIndex = 0;
            score = 0;
            streak = 0;
            totalTime = 0;
            questionTimes = [];
            wrongQuestions = [];
            answerHistory = [];
            selectedOptions = Array(selectedQuestions.length).fill(null);
            
            // Lưu thời điểm bắt đầu làm bài
            startTime = new Date();
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            showQuestion();
        }

        // Chơi mới (trở về màn hình đăng nhập)
        function newGame() {
            resetComprehensiveTestState();
            resultScreen.classList.add('hidden');
            loginScreen.classList.remove('hidden');
        }

        // Hàm phát âm thanh
        function speak(text) {
            // Kiểm tra nếu trình duyệt hỗ trợ Web Speech API
            if ('speechSynthesis' in window) {
                // Hủy phát âm trước đó nếu có
                speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.9;
                utterance.pitch = 1;
                
                // Xử lý lỗi phát âm
                utterance.onerror = function(event) {
                    console.error('Speech synthesis error:', event.error);
                };
                
                // Phát âm
                speechSynthesis.speak(utterance);
            } else {
                console.warn('Speech synthesis not supported in this browser');
            }
        }

        // Hàm trộn mảng ngẫu nhiên
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        // Reset trạng thái kiểm tra tổng hợp
        function resetComprehensiveTestState() {
            isComprehensiveTest = false;
            comprehensivePool = [];
            questionCountSelect.disabled = false;
        }
        
        // Xử lý sự kiện chống sao chép trong màn hình làm bài
        document.addEventListener('DOMContentLoaded', function() {
            // Ngăn chặn menu chuột phải trong màn hình làm bài
            document.addEventListener('contextmenu', function(e) {
                if (document.getElementById('quiz-screen').classList.contains('hidden') === false) {
                    e.preventDefault();
                    showAntiCheatNotice();
                    return false;
                }
            });
            
            // Ngăn chặn sao chép trong màn hình làm bài
            document.addEventListener('copy', function(e) {
                if (document.getElementById('quiz-screen').classList.contains('hidden') === false) {
                    e.preventDefault();
                    showAntiCheatNotice();
                    return false;
                }
            });
            
            // Ngăn chặn cắt trong màn hình làm bài
            document.addEventListener('cut', function(e) {
                if (document.getElementById('quiz-screen').classList.contains('hidden') === false) {
                    e.preventDefault();
                    showAntiCheatNotice();
                    return false;
                }
            });
            
            // Ngăn chặn kéo thả trong màn hình làm bài
            document.addEventListener('dragstart', function(e) {
                if (document.getElementById('quiz-screen').classList.contains('hidden') === false) {
                    e.preventDefault();
                    showAntiCheatNotice();
                    return false;
                }
            });
            
            // Ngăn chặn chọn văn bản trong màn hình làm bài
            document.addEventListener('selectstart', function(e) {
                if (document.getElementById('quiz-screen').classList.contains('hidden') === false) {
                    // Cho phép chọn văn bản trong các nút và ô lựa chọn
                    const target = e.target;
                    if (target.closest('.option') || target.closest('.speaker-btn') || target.closest('.timer-container') || target.closest('.stats-container')) {
                        return true;
                    }
                    e.preventDefault();
                    showAntiCheatNotice();
                    return false;
                }
            });
            
            // Ngăn chặn các phím tắt trong màn hình làm bài
            document.addEventListener('keydown', function(e) {
                if (document.getElementById('quiz-screen').classList.contains('hidden') === false) {
                    // Ngăn chặn Ctrl+C, Ctrl+X, Ctrl+A
                    if ((e.ctrlKey || e.metaKey) && (e.key === 'c' || e.key === 'x' || e.key === 'a')) {
                        e.preventDefault();
                        showAntiCheatNotice();
                        return false;
                    }
                    
                    // Ngăn chặn F12 (mở công cụ phát triển)
                    if (e.key === 'F12') {
                        e.preventDefault();
                        showAntiCheatNotice();
                        return false;
                    }
                    
                    // Ngăn chặn Ctrl+Shift+I (mở công cụ phát triển)
                    if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'I') {
                        e.preventDefault();
                        showAntiCheatNotice();
                        return false;
                    }
                    
                    // Ngăn chặn Ctrl+Shift+J (mở console)
                    if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'J') {
                        e.preventDefault();
                        showAntiCheatNotice();
                        return false;
                    }
                    
                    // Ngăn chặn Ctrl+U (xem mã nguồn)
                    if ((e.ctrlKey || e.metaKey) && e.key === 'u') {
                        e.preventDefault();
                        showAntiCheatNotice();
                        return false;
                    }
                }
            });
        });
        
        // Hiển thị thông báo chống gian lận
        function showAntiCheatNotice() {
            antiCheatNotice.style.display = 'block';
            setTimeout(() => {
                antiCheatNotice.style.display = 'none';
            }, 2000);
        }
        
        // Khởi tạo ban đầu
        updateUnitOptions();
    </script>
</body>
</html>
